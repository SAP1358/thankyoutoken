{% extends 'base.html' %}
{% block body %}
{% load static %}
{% load humanize %}

<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="utf-8" />
  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0" />

  <!-- Vendors JS -->
  <link rel="stylesheet" href="https://unpkg.com/swiper@7/swiper-bundle.min.css" />
  <script src="https://unpkg.com/swiper@7/swiper-bundle.min.js"></script>
</head>

<body class="all_">
  <!-- Content -->
  <div id="mainPage" class="allPage layout-container flex-column">
    <input type="hidden" id="SuccessCount" value="1">
    <span id="hiddenUserId" class="visually-hidden">{{ user.id }}</span>
    <div id="con" class="container-xxl mt-2">
      <!-- 2024.01.04 공지사항 -->
      <div class="alert alert-dismissible fade show mt-3 mb-1 text-dark" role="alert" style="background: #edf6ff;">
        <h3 class="fw-bold fs-2" style="color:#006ed5;">공지사항</h3>
        <p class="fw-med fs-6 mb-0" style="color:#222;"> 땡큐토큰을 통해 칭찬과 감사의 문화 확산에 동참해주셔서 감사합니다.
          <!-- <br>땡큐토큰을 통해 칭찬과 감사의 문화가 확산하는데 동참해주셔서 감사합니다. -->
        </p>
        <button type="button" class="btn-close closeCustom" data-bs-dismiss="alert" aria-label="Close"
          style="z-index: 1; width:0.3em; height: 0.3em;"><span></span>
        </button>
      </div>
      <!-- <div class="alert alert-dismissible fade show mt-3 mb-1 text-dark" role="alert" style="background: #edf6ff;">
        <h3 class="fw-bold fs-2" style="color:#006ed5;">공지사항</h3>
        <p class="fw-med fs-6 mb-0" style="color:#222;"><땡큐토큰 X 에버랜드> 스팟이벤트<br>1. 땡큐토큰(UC메신저) 월 20개 송부<br>2.안내게시에 '가족 애정댓글' 달기<br>&nbsp; -> 8.17(토) 에버랜드로 GOGO!</p>
        <button type="button" class="btn-close closeCustom" data-bs-dismiss="alert" aria-label="Close"
          style="z-index: 1; width:0.3em; height: 0.3em;"><span></span>
        </button>
      </div> -->
      <!-- <div class="alert alert-dismissible fade show mt-3 mb-1 text-dark" role="alert" style="background: #edf6ff;">
        <h3 class="fw-bold fs-2" style="color:#006ed5;">공지사항</h3>
        <p class="fw-med fs-6 mb-0" style="color:#222;">★MLB서울시리즈 직관의 기회<br>★(~3.12까지)<br>1. 3월 배정된 땡큐토큰 20개 소진 <br>2. 포탈 또는 채널W 內 'MLB이벤트 게시'에 땡큐토큰 4행시 참여</p>
        <button type="button" class="btn-close closeCustom" data-bs-dismiss="alert" aria-label="Close"
          style="z-index: 1; width:0.3em; height: 0.3em;"><span></span>
        </button>
      </div> -->

      <!-- <div class="alert alert-dismissible fade show mt-3 mb-1 text-dark" role="alert" style="background: #edf6ff;">
        <h3 class="fw-bold fs-2" style="color:#006ed5;">공지사항</h3>
        <p class="fw-med fs-6 mb-0" style="color:#222;">7월 중 땡큐토큰 "20개"를 먼저 소진하는 선착순 임직원 500명에게 백화점상품권 1만원권을 드립니다.</p>
        <button type="button" class="btn-close closeCustom" data-bs-dismiss="alert" aria-label="Close"
          style="z-index: 1; width:0.3em; height: 0.3em;"><span></span>
        </button>
      </div> -->
      <!-- <div class="alert alert-dismissible fade show mt-3 mb-1 text-dark" role="alert" style="background: #edf6ff;">
        <h3 class="fw-bold fs-2" style="color:#006ed5;">공지사항</h3>
        <p class="fw-med fs-6 mb-0" style="color:#222;">★5월 땡큐토큰 스팟이벤트 안내★<br>1. 5월 땡큐토큰 20개 사용<br>2. 우리가족 애정댓글 남기기(전체게시 참조)<br>3. 추첨을 통해 총 10명에게 외식상품권(30만원) 증정</p>
        <button type="button" class="btn-close closeCustom" data-bs-dismiss="alert" aria-label="Close"
          style="z-index: 1; width:0.3em; height: 0.3em;"><span></span>
        </button>
      </div>        -->
      <!-- <div class="alert alert-dismissible fade show mt-3 mb-1 text-dark" role="alert" style="background: #edf6ff;">
        <h3 class="fw-bold fs-2" style="color:#006ed5;">공지사항</h3>
        <p class="fw-med fs-6 mb-0" style="color:#222;">[스팟이벤트 "1+1 땡큐주간" 실시]<br>- 기간 : 6.24(월) ~ 6.28(금), 5영업일간<br>- 매월 4째주에 땡큐토큰 발송시,<br>&nbsp; 토큰이 한 개 더 자동충전!<br>동일인에게 채널W, UC메신저 중복 발송시 포인트는 1포인트만 인정</p>
        <button type="button" class="btn-close closeCustom" data-bs-dismiss="alert" aria-label="Close"
          style="z-index: 1; width:0.3em; height: 0.3em;"><span></span>
        </button>
      </div>    -->
<!-- 
      <div id = "goVideo" class="alert alert-dismissible fade show mt-3 mb-1 text-dark text-center" role="alert" style="background: #edf6ff;">
        <h3 class="fw-bold fs-2" style="color:#006ed5;">땡큐토큰 감동영상 <br>바로가기(클릭)</h3>
        <button type="button" class="btn-close closeCustom" data-bs-dismiss="alert" aria-label="Close"
          style="z-index: 1; width:0.3em; height: 0.3em;"><span></span>
        </button>
      </div>
      <script>
        document.getElementById("goVideo").addEventListener("click", function() {
            window.location.href = "https://wooriwbn.com/ucms/view/29/63932?page=0"; // 이동하고자 하는 URL
        });
      </script> -->

      <div id="cardWrap" class="row pt-5">

        {% comment %} {% for part in posts %}

        {% if part.todaythanks_showyn == "Y" %}
        <div class="chkCard todayThank col-lg-4 col-md-6 mb-2">
          <div class="card cardList">
            <span class="todayHeader position-absolute"><img class="w-100"
                src="{% static 'assets/img/today_thank_header.png' %}" alt=""></span>
            <div class="card-body p-3 d-flex justify-content-center align-items-center">
              <div class="d-flex align-items-center">
                <a class="me-2" href="#" style="width: 32px; height: 32px; border-radius: 100%; border:1px solid #d3f1ff;" data-bs-toggle="modal" data-bs-dismiss="modal" data-bs-target="#profile_modal">
                  {% if part.user_image_yn == 'Y' %}
                  <img src="{{ part.user_image }}" style="height:32px; border-radius: 100%; width:32px; object-fit: cover;" 
                    onclick='javascript:viewProfile("{{part.user_id}}", "{{part.user_image_yn}}", "{{part.user_image}}", "{{part.user_employee_id}}", "{{part.user_employee_name}}", "{{part.user_department_name}}","{{ part.user_position_name }}","{{ part.user_company_name }}")' />
                  {% else %}
                  <img src="{% static 'assets/img/profile_bee_01.png' %}" style="height:32px; border-radius: 100%; width:32px; object-fit: cover;" 
                    onclick='javascript:viewProfile("{{part.user_id}}", "{{part.user_image_yn}}", "{{part.user_image}}", "{{part.user_employee_id}}", "{{part.user_employee_name}}", "{{part.user_department_name}}","{{ part.user_position_name }}","{{ part.user_company_name }}")' />
                  {% endif %}
                </a>
                <div>
                  <p class="card-title colorCustom_02 m-0 fw-med">
                    {% if part.user_company_name == "우리에프아이에스" %}
                    FIS
                    {% elif part.user_company_name == "우리은행" %}
                    은행
                    {% elif part.user_company_name == "우리카드" %}
                    카드
                    {% elif part.user_company_name == "우리금융지주" %}
                    지주
                    {% elif part.user_company_name == "우리프라이빗에퀴티자산운용" %}
                    PE
                    {% elif part.user_company_name == "우리펀드서비스" %}
                    펀드
                    {% elif part.user_company_name == "우리신용정보" %}
                    신용정보
                    {% elif part.user_company_name == "우리금융경영연구소" %}
                    연구소
                    {% elif part.user_company_name == "우리투자증권" %}
                    우투
                    {% elif part.user_company_name == "우리자산운용" %}
                    자산운용
                    {% elif part.user_company_name == "우리자산신탁" %}
                    자산신탁
                    {% elif part.user_company_name == "우리글로벌자산운용" %}
                    글로벌
                    {% elif part.user_company_name == "우리금융캐피탈" %}
                    캐피탈
                    {% elif part.user_company_name == "우리금융저축은행" %}
                    저축은행
                    {% elif part.user_company_name == "우리금융에프앤아이" %}
                    F&I
                    {% elif part.user_company_name == "우리벤처파트너스" %}
                    벤처
                    {% else %}
                    {{ part.user_company_name }}
                    {% endif %}
                    {{ part.user_department_name|slice:":8" }}
                  </p>
                  <h6 class="card-text colorCustom_01" style="font-size: 12px;">{{ part.user_employee_name }} <span
                      class="fw-bold colorCustom_03" style="font-size: 10px;">{{ part.user_position_name }}</span></h6>
                </div>
              </div>
              <span class="mx-2 d-block icon_right_arrow"></span>
              <div class="d-flex align-items-center">
                <a class="me-2" href="#" style="width: 32px; height: 32px; border-radius: 100%; border:1px solid #d3f1ff;" data-bs-toggle="modal" data-bs-dismiss="modal" data-bs-target="#profile_modal">
                  {% if part.praise_image_yn == 'Y' %}
                  <img src="{{ part.praise_image }}" class="img-fluid" data-bs-toggle="modal" data-bs-dismiss="modal" data-bs-target="#profile_modal"
                    onclick='javascript:viewProfile("{{part.praise_id}}", "{{part.praise_image_yn}}", "{{part.praise_image}}", "{{part.praise_employee_id}}", "{{part.praise_employee_name}}", "{{part.praise_department_name}}","{{ part.praise_position_name }}","{{ part.praise_company_name }}")' />
                  {% else %}
                  <img src="{% static 'assets/img/profile_bee_01.png' %}" class="img-fluid" data-bs-toggle="modal" data-bs-dismiss="modal" data-bs-target="#profile_modal"
                    onclick='javascript:viewProfile("{{part.praise_id}}", "{{part.praise_image_yn}}", "{{part.praise_image}}", "{{part.praise_employee_id}}", "{{part.praise_employee_name}}", "{{part.praise_department_name}}","{{ part.praise_position_name }}","{{ part.praise_company_name }}")' />
                  {% endif %}
                </a>
                <div>
                  <p class="card-title colorCustom_02 m-0 fw-med">
                    {% if part.praise_company_name == "우리에프아이에스" %}
                    FIS
                    {% elif part.praise_company_name == "우리은행" %}
                    은행
                    {% elif part.praise_company_name == "우리카드" %}
                    카드
                    {% elif part.praise_company_name == "우리금융지주" %}
                    지주
                    {% elif part.praise_company_name == "우리프라이빗에퀴티자산운용" %}
                    PE
                    {% elif part.praise_company_name == "우리펀드서비스" %}
                    펀드
                    {% elif part.praise_company_name == "우리신용정보" %}
                    신용정보
                    {% elif part.praise_company_name == "우리금융경영연구소" %}
                    연구소
                    {% elif part.praise_company_name == "우리투자증권" %}
                    우투
                    {% elif part.praise_company_name == "우리자산운용" %}
                    자산운용
                    {% elif part.praise_company_name == "우리자산신탁" %}
                    자산신탁
                    {% elif part.praise_company_name == "우리글로벌자산운용" %}
                    글로벌
                    {% elif part.praise_company_name == "우리금융캐피탈" %}
                    캐피탈
                    {% elif part.praise_company_name == "우리금융저축은행" %}
                    저축은행
                    {% elif part.praise_company_name == "우리금융에프앤아이" %}
                    F&I
                    {% elif part.praise_company_name == "우리벤처파트너스" %}
                    벤처
                    {% else %}
                    {{ part.praise_company_name }}
                    {% endif %}

                    {{ part.praise_department_name|slice:":8" }}
                  </p>
                  <h6 class="card-text colorCustom_01" style="font-size: 12px;">{{ part.praise_employee_name }} <span
                      class="fw-bold colorCustom_03" style="font-size: 10px;">{{ part.praise_position_name }}</span></h6>
                </div>
              </div>
            </div>
            <div class="card-body px-0 py-3 mx-3" style="border-top:1px solid #14a8ea;">
              <div class="mb-3">
                <a data-bs-toggle="modal" data-bs-target="#card_modal" href="#" class="d-flex"
                  onclick="viewToken('{{part.compliment_id}}','{{part.todaythanks_showyn}}','{{part.user_id}}','{{part.praise_id}}','{{part.user_employee_name}}', '{{part.praise_employee_name}}', '{{part.content}}', '{{ part.user_image }}', '{{ part.praise_image }}','{{part.user_image_yn}}','{{part.praise_image_yn}}','{% static 'assets/img/profile_bee_01.png' %}', '{{part.image_path}}', '{{part.likes_count}}', '{{part.comment_count}}', '{{part.reg_date|date:'Y-m-d'}}');">
                  <!-- .photoCard 유저 포토 카드 -->
                  <div style="width:80px; height:80px; overflow: hidden; border-radius: 10px; margin-right:10px;">
                    <img id="cardmodalimg{{part.compliment_id}}" style="object-fit: cover; height: 100%; width: 100%;"
                      src="{{part.image_path}}" class="img-fluid" oncontextmenu="return false;">
                  </div>
                  <!-- <div class="overflow-hidden" style="width: calc(100% - 90px);"> 와 동일한 태그 전부 <div class="overflow-hidden" style="width: calc(100% - 90px);"> 로 수정 240304 -->
                    <div class="overflow-hidden" style="width: calc(100% - 90px);">
                      <!-- <div class="overflow-hidden" style="width: calc(100% - 90px);"> 와 동일한 태그 전부 <div class="overflow-hidden" style="width: calc(100% - 90px);"> 로 수정 240304 -->
                    <p id="pcard_desc{{part.compliment_id}}" style="min-height: 50px; text-overflow: ellipsis; word-wrap: break-word; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;"
                      class="card-text mb-0 colorCustom_01 fw-med">{{part.short_content}}
                    </p>
                    <div id="viewTag{{ part.compliment_id }}"></div>
                  </div>
                </a>
              </div>

              <div class="card-body p-0 d-flex justify-content-between">
                <div class="d-flex" style="align-items: center;">
                  <a href="javascript:void(0);" onclick="clickLike('{{part.compliment_id}}');"
                    class="d-flex heartBtn btn p-0 me-2">
                    {% if part.like_yn == 1 %}
                    <i id="clickIconLike{{part.compliment_id}}" class="me-1 clicked">
                    </i>
                    {% else %}
                    <i id="clickIconLike{{part.compliment_id}}" class="me-1">
                    </i>
                    {% endif %}
                    <span id="clickLike{{part.compliment_id}}"
                      class="fw-med colorCustom_01">{{part.likes_count}}</span></a>
                  <a href="javascript:void(0);" class="d-flex commentBtn btn p-0 me-2" data-bs-toggle="modal"
                    data-bs-target="#modalPraiseComment"
                    onclick="praiseCommentPop(0,{{part.compliment_id}},{{part.praise_id}});">
					{% if part.comment_count >= 1 %}
                    <i id="clickIconComment{{part.compliment_id}}" class="me-1 clicked">
                    </i>
                    {% else %}
                    <i id="clickIconComment{{part.compliment_id}}" class="me-1">
                    </i>
                    {% endif %}
					<span
                      id="clickComment{{part.compliment_id}}" class="fw-med colorCustom_01">{{part.comment_count}}</span></a>

                </div>
                <div class="position-relative">
                  <a href="#" class="btn p-0 me-1 fw-med colorCustom_01" style="cursor:default;">
                    {% if part.user_id == 15893 or part.todaythanks_showyn == "Y" %}
                    <!-- 임원 날짜표기 제외 -->
                    {% else %}
                    <span>{{part.reg_date|date:"Y-m-d"}}</span>
                    {% endif %}
                  </a>
                  {% if user.id == part.user_id or user.is_superuser %}
                  <button class="btn p-0 editBtn" type="button" id="conversionRate" data-bs-toggle="dropdown"
                    aria-haspopup="true" aria-expanded="false">
                    <span class="d-block"></span>
                  </button>
                  <div class="dropdown-menu dropdown-menu-end" aria-labelledby="conversionRate"
                    data-popper-placement="bottom-end"
                    style="position: absolute; inset: 0px 0px auto auto; margin: 0px; transform: translate(0px, 25px);">
					          <input id="modify_content{{part.compliment_id}}" type="hidden" value="'{{part.content}}'"></input>
                    {% if user.is_superuser and part.todaythanks_showyn == "Y" %}
                      <a class="dropdown-item"   onclick="todayThankyouSet('{{part.compliment_id}}','N');">투데이땡큐해제</a>
                    {% elif user.is_superuser and part.todaythanks_showyn != "Y" %}
                      <a class="dropdown-item"   onclick="todayThankyouSet('{{part.compliment_id}}','Y');">투데이땡큐등록</a>
                    {% endif %}
                    <a class="dropdown-item" href="javascript:void(0);" data-bs-toggle="modal"
                      data-bs-target="#editCard"
                      onclick="praiseModifyPop('{{part.compliment_id}}','{{part.image_path}}','{{part.content}}','{{part.images_id}}');">수정하기</a>
					<!-- <a class="dropdown-item" data-bs-toggle="modal" data-bs-target="#deletCard" onclick="confirmDelete('{% url 'praiseDelete' part.compliment_id %}');">삭제하기</a> -->
                    <a class="dropdown-item" onclick="confirmDelete('{% url 'praiseDelete' part.compliment_id %}');">삭제하기</a>
                  </div>
				  {% endif %}
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- .sendMeCard : 나에게 온 토큰카드 배경 색상 #c8edff 시작-->
        {% elif part.praise_id == user.id and part.todaythanks_showyn != "Y" %}
        <div class="chkCard sendMeCard col-lg-4 col-md-6 mb-2">
          <div class="card cardList">
            <div class="card-body p-3 d-flex justify-content-center align-items-center">
              <div class="d-flex align-items-center">
                <a class="me-2" href="#" style="width: 32px; height: 32px; border-radius: 100%; border:1px solid #fff;" data-bs-toggle="modal" data-bs-dismiss="modal" data-bs-target="#profile_modal">
                  {% if part.user_image_yn == 'Y' %}
                  <img src="{{ part.user_image }}" style="height:32px; border-radius: 100%; width:32px; object-fit: cover;"
                    onclick='javascript:viewProfile("{{part.user_id}}", "{{part.user_image_yn}}", "{{part.user_image}}", "{{part.user_employee_id}}", "{{part.user_employee_name}}", "{{part.user_department_name}}","{{ part.user_position_name }}","{{ part.user_company_name }}")' />
                  {% else %}
                  <img src="{% static 'assets/img/profile_bee_01.png' %}" style="height:32px; border-radius: 100%; width:32px; object-fit: cover;" 
                    onclick='javascript:viewProfile("{{part.user_id}}", "{{part.user_image_yn}}", "{{part.user_image}}", "{{part.user_employee_id}}", "{{part.user_employee_name}}", "{{part.user_department_name}}","{{ part.user_position_name }}","{{ part.user_company_name }}")' />
                  {% endif %}
                </a>
                <div>
                  <p class="card-title colorCustom_02 m-0 fw-med">
                    {% if part.user_company_name == "우리에프아이에스" %}
                    FIS
                    {% elif part.user_company_name == "우리은행" %}
                    은행
                    {% elif part.user_company_name == "우리카드" %}
                    카드
                    {% elif part.user_company_name == "우리금융지주" %}
                    지주
                    {% elif part.user_company_name == "우리프라이빗에퀴티자산운용" %}
                    PE
                    {% elif part.user_company_name == "우리펀드서비스" %}
                    펀드
                    {% elif part.user_company_name == "우리신용정보" %}
                    신용정보
                    {% elif part.user_company_name == "우리금융경영연구소" %}
                    연구소
                    {% elif part.user_company_name == "우리투자증권" %}
                    우투
                    {% elif part.user_company_name == "우리자산운용" %}
                    자산운용
                    {% elif part.user_company_name == "우리자산신탁" %}
                    자산신탁
                    {% elif part.user_company_name == "우리글로벌자산운용" %}
                    글로벌
                    {% elif part.user_company_name == "우리금융캐피탈" %}
                    캐피탈
                    {% elif part.user_company_name == "우리금융저축은행" %}
                    저축은행
                    {% elif part.user_company_name == "우리금융에프앤아이" %}
                    F&I
                    {% elif part.user_company_name == "우리벤처파트너스" %}
                    벤처
                    {% else %}
                    {{ part.user_company_name }}
                    {% endif %}
                    {{ part.user_department_name|slice:":8" }}
                  </p>
                  <h6 class="card-text colorCustom_01" style="font-size: 12px;">{{ part.user_employee_name }} <span
                      class="fw-bold colorCustom_03" style="font-size: 10px;">{{ part.user_position_name }}</span></h6>
                </div>
              </div>
              <span class="mx-2 d-block icon_right_arrow"></span>
              <div class="d-flex align-items-center">
                <a class="me-2 rank_crown_04_10" href="#" style="width: 32px; height: 32px; border-radius: 100%; border:1px solid #fff;" data-bs-toggle="modal" data-bs-dismiss="modal" data-bs-target="#profile_modal">
                  {% if part.praise_image_yn == 'Y' %}
                  <img src="{{ part.praise_image }}" style="height:32px; border-radius: 100%; width:32px; object-fit: cover;" data-bs-toggle="modal" data-bs-dismiss="modal" data-bs-target="#profile_modal"
                    onclick='javascript:viewProfile("{{part.praise_id}}", "{{part.praise_image_yn}}", "{{part.praise_image}}", "{{part.praise_employee_id}}", "{{part.praise_employee_name}}", "{{part.praise_department_name}}","{{ part.praise_position_name }}","{{ part.praise_company_name }}")' />
                  {% else %}
                  <img src="{% static 'assets/img/profile_bee_01.png' %}" style="height:32px; border-radius: 100%; width:32px; object-fit: cover;" data-bs-toggle="modal" data-bs-dismiss="modal" data-bs-target="#profile_modal"
                    onclick='javascript:viewProfile("{{part.praise_id}}", "{{part.praise_image_yn}}", "{{part.praise_image}}", "{{part.praise_employee_id}}", "{{part.praise_employee_name}}", "{{part.praise_department_name}}","{{ part.praise_position_name }}","{{ part.praise_company_name }}")' />
                  {% endif %}
                </a>
                <div>
                  <p class="card-title colorCustom_02 m-0 fw-med">
                    {% if part.praise_company_name == "우리에프아이에스" %}
                    FIS
                    {% elif part.praise_company_name == "우리은행" %}
                    은행
                    {% elif part.praise_company_name == "우리카드" %}
                    카드
                    {% elif part.praise_company_name == "우리금융지주" %}
                    지주
                    {% elif part.praise_company_name == "우리프라이빗에퀴티자산운용" %}
                    PE
                    {% elif part.praise_company_name == "우리펀드서비스" %}
                    펀드
                    {% elif part.praise_company_name == "우리신용정보" %}
                    신용정보
                    {% elif part.praise_company_name == "우리금융경영연구소" %}
                    연구소
                    {% elif part.praise_company_name == "우리투자증권" %}
                    우투
                    {% elif part.praise_company_name == "우리자산운용" %}
                    자산운용
                    {% elif part.praise_company_name == "우리자산신탁" %}
                    자산신탁
                    {% elif part.praise_company_name == "우리글로벌자산운용" %}
                    글로벌
                    {% elif part.praise_company_name == "우리금융캐피탈" %}
                    캐피탈
                    {% elif part.praise_company_name == "우리금융저축은행" %}
                    저축은행
                    {% elif part.praise_company_name == "우리금융에프앤아이" %}
                    F&I
                    {% elif part.praise_company_name == "우리벤처파트너스" %}
                    벤처
                    {% else %}
                    {{ part.praise_company_name }}
                    {% endif %}

                    {{ part.praise_department_name|slice:":8" }}
                  </p>
                  <h6 class="card-text colorCustom_01" style="font-size: 12px;">{{ part.praise_employee_name }} <span
                      class="fw-bold colorCustom_03" style="font-size: 10px;">{{ part.praise_position_name }}</span></h6>
                </div>

              </div>
            </div>
            <div class="card-body px-0 py-3 mx-3" style="border-top:1px solid #14a8ea;">
              <div class="mb-3">
                <a data-bs-toggle="modal" data-bs-target="#card_modal" href="#" class="d-flex"
                  onclick="viewToken('{{part.compliment_id}}','{{part.todaythanks_showyn}}','{{part.user_id}}','{{part.praise_id}}','{{part.user_employee_name}}', '{{part.praise_employee_name}}', '{{part.content}}', '{{ part.user_image }}', '{{ part.praise_image }}','{{part.user_image_yn}}','{{part.praise_image_yn}}','{% static 'assets/img/profile_bee_01.png' %}', '{{part.image_path}}', '{{part.likes_count}}', '{{part.comment_count}}', '{{part.reg_date|date:'Y-m-d'}}');">
                  <div style="width:80px; height:80px; overflow: hidden; border-radius: 10px; margin-right:10px;">
                    <img id="cardmodalimg{{part.compliment_id}}" style="object-fit: cover; height: 100%; width: 100%;" src="{{part.image_path}}"
                      class="img-fluid" oncontextmenu="return false;">
                  </div>
                  <div class="overflow-hidden" style="width: calc(100% - 90px);">
                    <p id="pcard_desc{{part.compliment_id}}" style="min-height: 50px; text-overflow: ellipsis; word-wrap: break-word; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;"
                      class="card-text mb-0 colorCustom_01 fw-med">{{part.short_content}}</p>
                    <div id="viewTag{{ part.compliment_id }}"></div>
                  </div>
                </a>
              </div>

              <div class="card-body p-0 d-flex justify-content-between">
                <div class="d-flex" style="align-items: center;">
                  <a href="javascript:void(0);" onclick="clickLike('{{part.compliment_id}}');"
                    class="d-flex heartBtn btn p-0 me-2">
                    {% if part.like_yn == 1 %}
                    <i id="clickIconLike{{part.compliment_id}}" class="me-1 clicked">
                    </i>
                    {% else %}
                    <i id="clickIconLike{{part.compliment_id}}" class="me-1">
                    </i>
                    {% endif %}
                    <span id="clickLike{{part.compliment_id}}"
                      class="fw-med colorCustom_01">{{part.likes_count}}</span></a>
                  <a href="javascript:void(0);" class="d-flex commentBtn btn p-0 me-2" data-bs-toggle="modal"
                    data-bs-target="#modalPraiseComment"
                    onclick="praiseCommentPop(0,{{part.compliment_id}},{{part.praise_id}});">
					{% if part.comment_count >= 1 %}
                    <i id="clickIconComment{{part.compliment_id}}" class="me-1 clicked">
                    </i>
                    {% else %}
                    <i id="clickIconComment{{part.compliment_id}}" class="me-1">
                    </i>
                    {% endif %}
					<span id="clickComment{{part.compliment_id}}" class="fw-med colorCustom_01">{{part.comment_count}}</span></a>
					{% if part.praise_id == user.id %}
						<a href="/praiseRegedit/?userId={{part.user_id}}" class="replyBtn fw-med d-flex p-0 colorCustom_01" style="font-size: 12px;"><i class="me-1"></i>답장하기</a>
					{% endif %}
                </div>
                <div class="position-relative">
                  <a href="#" class="btn p-0 me-1 fw-med colorCustom_01" style="cursor:default;">
                    {% if part.user_id == 15893 or part.todaythanks_showyn == "Y" %}
                    <!-- 임원 날짜표기 제외 -->
                    {% else %}
                    <span>{{part.reg_date|date:"Y-m-d"}}</span>
                    {% endif %}
                  </a>
                  {% if user.id == part.user_id or user.is_superuser %}
                  <button class="btn p-0 editBtn" type="button" id="conversionRate" data-bs-toggle="dropdown"
                    aria-haspopup="true" aria-expanded="false">
                    <span class="d-block"></span>
                  </button>
                  <div class="dropdown-menu dropdown-menu-end" aria-labelledby="conversionRate"
                    data-popper-placement="bottom-end"
                    style="position: absolute; inset: 0px 0px auto auto; margin: 0px; transform: translate(0px, 25px);">
					          <input id="modify_content{{part.compliment_id}}" type="hidden" value="'{{part.content}}'"></input>
                    {% if user.is_superuser and part.todaythanks_showyn == "Y" %}
                      <a class="dropdown-item"   onclick="todayThankyouSet('{{part.compliment_id}}','N');">투데이땡큐해제</a>
                    {% elif user.is_superuser and part.todaythanks_showyn != "Y" %}
                      <a class="dropdown-item"   onclick="todayThankyouSet('{{part.compliment_id}}','Y');">투데이땡큐등록</a>
                    {% endif %}
                    <a class="dropdown-item" href="javascript:void(0);" data-bs-toggle="modal"
                      data-bs-target="#editCard"
                      onclick="praiseModifyPop('{{part.compliment_id}}','{{part.image_path}}','{{part.content}}','{{part.images_id}}');">수정하기</a>
					<!-- <a class="dropdown-item" data-bs-toggle="modal" data-bs-target="#deletCard" onclick="confirmDelete('{% url 'praiseDelete' part.compliment_id %}');">삭제하기</a> -->
                    <a class="dropdown-item" onclick="confirmDelete('{% url 'praiseDelete' part.compliment_id %}');">삭제하기</a> 
                  </div>
				  {% endif %}
                </div>
              </div>
            </div>
          </div>
        </div>
        {% else %}
        <!-- 나에게 온 토큰카드를 제외한 전체 토큰카드 시작  -->
        <div class="chkCard col-lg-4 col-md-6 mb-2">
          <div class="card cardList">
            <div class="card-body p-3 d-flex justify-content-center align-items-center">
              <div class="d-flex align-items-center">
                <a class="me-2" href="#" style="width: 32px; height: 32px; border-radius: 100%; border:1px solid #d3f1ff;" data-bs-toggle="modal" data-bs-dismiss="modal" data-bs-target="#profile_modal">
                  {% if part.user_image_yn == 'Y' %}
                  <img src="{{ part.user_image }}" style="height:32px; border-radius: 100%; width:32px; object-fit: cover;" data-bs-toggle="modal" data-bs-dismiss="modal" data-bs-target="#profile_modal"
                    onclick='javascript:viewProfile("{{part.user_id}}", "{{part.user_image_yn}}", "{{part.user_image}}", "{{part.user_employee_id}}", "{{part.user_employee_name}}", "{{part.user_department_name}}","{{ part.user_position_name }}","{{ part.user_company_name }}")' />
                  {% else %}
                  <img src="{% static 'assets/img/profile_bee_01.png' %}" style="height:32px; border-radius: 100%; width:32px; object-fit: cover;" data-bs-toggle="modal" data-bs-dismiss="modal" data-bs-target="#profile_modal"
                    onclick='javascript:viewProfile("{{part.user_id}}", "{{part.user_image_yn}}", "{{part.user_image}}", "{{part.user_employee_id}}", "{{part.user_employee_name}}", "{{part.user_department_name}}","{{ part.user_position_name }}","{{ part.user_company_name }}")' />
                  {% endif %}
                </a>
                <div>
                  <p class="card-title colorCustom_02 m-0 fw-med">
                    {% if part.user_company_name == "우리에프아이에스" %}
                    FIS
                    {% elif part.user_company_name == "우리은행" %}
                    은행
                    {% elif part.user_company_name == "우리카드" %}
                    카드
                    {% elif part.user_company_name == "우리금융지주" %}
                    지주
                    {% elif part.user_company_name == "우리프라이빗에퀴티자산운용" %}
                    PE
                    {% elif part.user_company_name == "우리펀드서비스" %}
                    펀드
                    {% elif part.user_company_name == "우리신용정보" %}
                    신용정보
                    {% elif part.user_company_name == "우리금융경영연구소" %}
                    연구소
                    {% elif part.user_company_name == "우리투자증권" %}
                    우투
                    {% elif part.user_company_name == "우리자산운용" %}
                    자산운용
                    {% elif part.user_company_name == "우리자산신탁" %}
                    자산신탁
                    {% elif part.user_company_name == "우리글로벌자산운용" %}
                    글로벌
                    {% elif part.user_company_name == "우리금융캐피탈" %}
                    캐피탈
                    {% elif part.user_company_name == "우리금융저축은행" %}
                    저축은행
                    {% elif part.user_company_name == "우리금융에프앤아이" %}
                    F&I
                    {% elif part.user_company_name == "우리벤처파트너스" %}
                    벤처
                    {% else %}
                    {{ part.user_company_name }}
                    {% endif %}
                    {{ part.user_department_name|slice:":8" }}
                  </p>
                  <h6 class="card-text colorCustom_01" style="font-size: 12px;">{{ part.user_employee_name }} <span
                      class="fw-bold colorCustom_03" style="font-size: 10px;">{{ part.user_position_name }}</span></h6>
                </div>
              </div>
              <span class="mx-2 d-block icon_right_arrow"></span>
              <div class="d-flex align-items-center">
                <a class="me-2" href="#" style="width: 32px; height: 32px; border-radius: 100%; border:1px solid #d3f1ff;" data-bs-toggle="modal" data-bs-dismiss="modal" data-bs-target="#profile_modal">
                  {% if part.praise_image_yn == 'Y' %}
                  <img src="{{ part.praise_image }}" style="height:32px; border-radius: 100%; width:32px; object-fit: cover;" data-bs-toggle="modal" data-bs-dismiss="modal" data-bs-target="#profile_modal"
                    onclick='javascript:viewProfile("{{part.praise_id}}", "{{part.praise_image_yn}}", "{{part.praise_image}}", "{{part.praise_employee_id}}", "{{part.praise_employee_name}}", "{{part.praise_department_name}}","{{ part.praise_position_name }}","{{ part.praise_company_name }}")' />
                  {% else %}
                  <img src="{% static 'assets/img/profile_bee_01.png' %}" style="height:32px; border-radius: 100%; width:32px; object-fit: cover;" data-bs-toggle="modal" data-bs-dismiss="modal" data-bs-target="#profile_modal"
                    onclick='javascript:viewProfile("{{part.praise_id}}", "{{part.praise_image_yn}}", "{{part.praise_image}}", "{{part.praise_employee_id}}", "{{part.praise_employee_name}}", "{{part.praise_department_name}}","{{ part.praise_position_name }}","{{ part.praise_company_name }}")' />
                  {% endif %}
                </a>
                <div>
                  <p class="card-title colorCustom_02 m-0 fw-med">
                    {% if part.praise_company_name == "우리에프아이에스" %}
                    FIS
                    {% elif part.praise_company_name == "우리은행" %}
                    은행
                    {% elif part.praise_company_name == "우리카드" %}
                    카드
                    {% elif part.praise_company_name == "우리금융지주" %}
                    지주
                    {% elif part.praise_company_name == "우리프라이빗에퀴티자산운용" %}
                    PE
                    {% elif part.praise_company_name == "우리펀드서비스" %}
                    펀드
                    {% elif part.praise_company_name == "우리신용정보" %}
                    신용정보
                    {% elif part.praise_company_name == "우리금융경영연구소" %}
                    연구소
                    {% elif part.praise_company_name == "우리투자증권" %}
                    우투
                    {% elif part.praise_company_name == "우리자산운용" %}
                    자산운용
                    {% elif part.praise_company_name == "우리자산신탁" %}
                    자산신탁
                    {% elif part.praise_company_name == "우리글로벌자산운용" %}
                    글로벌
                    {% elif part.praise_company_name == "우리금융캐피탈" %}
                    캐피탈
                    {% elif part.praise_company_name == "우리금융저축은행" %}
                    저축은행
                    {% elif part.praise_company_name == "우리금융에프앤아이" %}
                    F&I
                    {% elif part.praise_company_name == "우리벤처파트너스" %}
                    벤처
                    {% else %}
                    {{ part.praise_company_name }}
                    {% endif %}

                    {{ part.praise_department_name|slice:":8" }}
                  </p>
                  <h6 class="card-text colorCustom_01" style="font-size: 12px;">{{ part.praise_employee_name }} <span
                      class="fw-bold colorCustom_03" style="font-size: 10px;">{{ part.praise_position_name }}</span></h6>
                </div>

              </div>
            </div>
            <div class="card-body px-0 py-3 mx-3" style="border-top:1px solid #14a8ea;">
              <div class="mb-3">
                <a data-bs-toggle="modal" data-bs-target="#card_modal" href="#" class="d-flex"
                  onclick="viewToken('{{part.compliment_id}}','{{part.todaythanks_showyn}}','{{part.user_id}}','{{part.praise_id}}','{{part.user_employee_name}}', '{{part.praise_employee_name}}', '{{part.content}}', '{{ part.user_image }}', '{{ part.praise_image }}','{{part.user_image_yn}}','{{part.praise_image_yn}}','{% static 'assets/img/profile_bee_01.png' %}', '{{part.image_path}}', '{{part.likes_count}}', '{{part.comment_count}}', '{{part.reg_date|date:'Y-m-d'}}');">
                  <div style="width:80px; height:80px; overflow: hidden; border-radius: 10px; margin-right:10px;">
                    <img id="cardmodalimg{{part.compliment_id}}" style="object-fit: cover; height: 100%; width: 100%;" src="{{part.image_path}}"
                      class="img-fluid" oncontextmenu="return false;">
                  </div>
                  <div class="overflow-hidden" style="width: calc(100% - 90px);">
                    <p id="pcard_desc{{part.compliment_id}}" style="min-height: 50px; text-overflow: ellipsis; word-wrap: break-word; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;"
                      class="card-text mb-0 colorCustom_01 fw-med">{{part.short_content}}</p>
                    <div id="viewTag{{ part.compliment_id }}"></div>
                  </div>
                </a>
              </div>

              <div class="card-body p-0 d-flex justify-content-between">
                <div class="d-flex" style="align-items: center;">
                  <a href="javascript:void(0);" onclick="clickLike('{{part.compliment_id}}');"
                    class="d-flex heartBtn btn p-0 me-2">
                    {% if part.like_yn == 1 %}
                    <i id="clickIconLike{{part.compliment_id}}" class="me-1 clicked">
                    </i>
                    {% else %}
                    <i id="clickIconLike{{part.compliment_id}}" class="me-1">
                    </i>
                    {% endif %}
                    <span id="clickLike{{part.compliment_id}}"
                      class="fw-med colorCustom_01">{{part.likes_count}}</span></a>
                  <a href="javascript:void(0);" class="d-flex commentBtn btn p-0 me-2" data-bs-toggle="modal"
                    data-bs-target="#modalPraiseComment"
                    onclick="praiseCommentPop(0,{{part.compliment_id}},{{part.praise_id}});">
					{% if part.comment_count >= 1 %}
                    <i id="clickIconComment{{part.compliment_id}}" class="me-1 clicked">
                    </i>
                    {% else %}
                    <i id="clickIconComment{{part.compliment_id}}" class="me-1">
                    </i>
                    {% endif %}
					<span
                      id="clickComment{{part.compliment_id}}" class="fw-med colorCustom_01">{{part.comment_count}}</span></a>

                </div>
                <div class="position-relative">
                  <a href="#" class="btn p-0 me-1 fw-med colorCustom_01" style="cursor:default;">
                    {% if part.user_id == 15893 or part.todaythanks_showyn == "Y"  %}
                    <!-- 임원 날짜표기 제외 -->
                    {% else %}
                    <span>{{part.reg_date|date:"Y-m-d"}}</span>
                    {% endif %}
                  </a>
                  {% if user.id == part.user_id or user.is_superuser %}
                  <button class="btn p-0 editBtn" type="button" id="conversionRate" data-bs-toggle="dropdown"
                    aria-haspopup="true" aria-expanded="false">
                    <span class="d-block"></span>
                  </button>
                  <div class="dropdown-menu dropdown-menu-end" aria-labelledby="conversionRate"
                    data-popper-placement="bottom-end"
                    style="position: absolute; inset: 0px 0px auto auto; margin: 0px; transform: translate(0px, 25px);">
					          <input id="modify_content{{part.compliment_id}}" type="hidden" value="'{{part.content}}'"></input>																			   
                    {% if user.is_superuser and part.todaythanks_showyn == "Y" %}
                      <a class="dropdown-item"   onclick="todayThankyouSet('{{part.compliment_id}}','N');">투데이땡큐해제</a>
                    {% elif user.is_superuser and part.todaythanks_showyn != "Y" %}
                      <a class="dropdown-item"   onclick="todayThankyouSet('{{part.compliment_id}}','Y');">투데이땡큐등록</a>
                    {% endif %}
                    <a class="dropdown-item" href="javascript:void(0);" data-bs-toggle="modal"
                      data-bs-target="#editCard"
                      onclick="praiseModifyPop('{{part.compliment_id}}','{{part.image_path}}','{{part.content}}','{{part.images_id}}');">수정하기</a>
					  
					<!-- <a class="dropdown-item" data-bs-toggle="modal" data-bs-target="#deletCard" onclick="confirmDelete('{% url 'praiseDelete' part.compliment_id %}');">삭제하기</a> -->
                    <a class="dropdown-item" onclick="confirmDelete('{% url 'praiseDelete' part.compliment_id %}');">삭제하기</a>
                  </div>
				  {% endif %}
                </div>
              </div>
            </div>
          </div>
        </div>
        {% endif %}


        {% endfor %}
        {% if not posts %}
        <div class="card cardList">
          <div class="card-body p-3 d-flex justify-content-center align-items-center">
            <div class="d-flex align-items-center">
              칭찬글이 없습니다
            </div>
          </div>
        </div>
        {% endif %} {% endcomment %}
      </div>
      <!-- 나에게 온 토큰카드를 제외한 전체 토큰카드 끝  -->

      <div class="text-center"><a id="moreBtn" class="badge badge-danger text-center fs-3 mb-4 mt-5"
          onclick="viewPage();">더보기</a>
      </div>
    </div>

    <div id="footer"><div class="footer w-100 text-center fw-med fs-6" style="color:#418dd4;">ⓒ 2024, made 땡큐토큰</div></div>
  </div>
</body>

</html>

<!-- 땡큐주간 칭찬 후 토큰 추가 알림  1+1 땡큐주간-->
<div class="modal fade" id="chargingModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
  <div class="modal-content">
    <div class="modal-header text-center">
    <h1 class="modal-title w-100 mb-0 fw-med" id="exampleModalLabel">1+1 땡큐주간</h1>
    <button type="button" class="position-absolute btn-close closeCustom"
      style="background:transparent; border:0; right:20px; top:25px; box-shadow: none; transform: none !important; z-index: 2;"
      data-bs-dismiss="modal">
      <span></span>
    </button>
    </div>
    <div class="modal-body p-0 pt-2">
    <div class="d-flex align-items-center justify-content-center">
      <span class="me-2" style="width: 10%; min-width: 40px;"><img class="w-100"
        src="{% static 'assets/img/icon_token05.png' %}"></span>
      <p class="gm-bold colorCustom_03 mb-0" style="font-size: 29px; border-bottom:2px solid #006ed5;">1토큰 지급완료!
      </p>
      <span class="ms-2" style="width: 10%; min-width: 40px;"><img class="w-100"
        src="{% static 'assets/img/icon_token04.png' %}"></span>
    </div>
    <div class="text-center mt-4">
      <p class="gm-bold colorCustom_06" style="font-size: 80px; line-height: 1;"><span class="gm-med">+</span>1
      </p>
    </div>
    </div>
  </div>
  </div>
</div>


<input id="hiddenidval" type="hidden"></input> <!-- 좋아요,댓글 ID값 넘기기용 -->
<input id="hiddenlike" type="hidden" value="-99999"></input>	<!-- 좋아요 count값 -->												
<!-- HOME 페이지 카드 모달 시작 -->
<div class="modal fade" id="card_modal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog mt-5">
    <div class="modal-content p-4 pb-3">
      <button type="button" class="position-absolute btn-close closeCustom"
        style="background:transparent; border:0; right:5px; top:5px; box-shadow: none; transform: none !important;"
        data-bs-dismiss="modal">
        <span></span>
      </button>
      <div class="text-center coinImg" style="width: 60%; margin:-15% auto 0;">
        <img class="w-100" src="{% static 'assets/img/coin_icon_02.png' %}">
      </div>
      <div class="modal-header rounded p-2 mt-3 justify-content-center" style="border:1px solid #dde7f1;">
        <div class="d-flex align-items-center">

          <img id="card_user_image" style="width: 32px; height: 32px; border-radius: 100%; object-fit: cover; border:1px solid #d3f1ff" src="{% static 'assets/img/profile_bee_01.png' %}"
            class="img-fluid me-2">

          <p id="card_user_employee_name" class="m-0 fw-med colorCustom_01" style="font-size: 14px;"></p>
        </div>
        <span style="width: 25px; height: 25px; margin-left: 1rem; margin-right: 1rem;"><img
            src="{% static 'assets/img/icon_arrow.svg' %}"></span>
        <div class="d-flex align-items-center">
          <img id="card_praise_image" style="width: 32px; height: 32px; border-radius: 100%; object-fit: cover; border:1px solid #d3f1ff" src="{% static 'assets/img/profile_bee_01.png' %}"
            class="img-fluid me-2">
          <p id="card_praise_employee_name" class="m-0 fw-med colorCustom_01" style="font-size: 14px;"></p>
        </div>
      </div>
      <div class="modal-body p-0 mb-2 mt-2">
        <div class="w-75 mx-auto"><img id="card_photocardimg" src="{% static 'assets/img/photo01.jpg' %}"
            class="img-fluid rounded w-100">
        </div>
        <div class="p-3 text-center rounded mt-3" style="border:1px solid #dde7f1">
          <p id="card_short_content" class="text-dark mb-0 fw-med colorCustom_01" style="word-break: keep-all;"></p>
        </div>
      </div>
      <div class="modal-footer p-0 mt-2 d-flex justify-content-between align-items-center">
        <div class="w-100 p-0 d-flex justify-content-between">
          <div id="card_d_flex" class="d-flex">
                    <a id="modalheartbtn" class="d-flex heartBtn btn p-0 me-2" onclick="clickDetailLike();">
                    <i id="detailClickIconLike" class="me-1 clicked"></i>
                      <span id="card_like_count" class="fw-med colorCustom_01"></span>
                    </a>

            <a class="d-flex commentBtn btn p-0" data-bs-toggle="modal" data-bs-target="#modalPraiseComment" data-bs-dismiss="modal" onclick="click_comment_incard();"> <!-- comment 버튼 주석처리 data-bs-toggle="modal" data-bs-target="#modalPraiseComment"-->
				<i id="detailCommentIconLike" class="me-1 clicked"></i>
			    <span id="card_comment_count" class="fw-med colorCustom_01"></span>
            </a>

          </div>

          <div class="">
            <a href="#" class="btn p-0 me-1 fw-med colorCustom_01"><span
                id="card_reg_date"></span></a>
          </div>
        </div>
      </div>
      
    </div>
  </div>
</div>
<!-- HOME 페이지 카드 모달 끝 -->

<!-- HOME 페이지 코멘트 모달 댓글 모달 시작 -->

<div class="modal fade modalPraiseComment" id="modalPraiseComment" tabindex="-1" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable" role="document">
    <div class="modal-content">
      <div class="modal-header p-2 justify-content-end">

        <button type="button" class="position-absolute btn-close closeCustom"
          style="background:transparent; border:0; right:20px; top:25px; box-shadow: none; transform: none !important; z-index: 1;"
          data-bs-dismiss="modal" aria-label="Close">
          <span></span>
        </button>
      </div>
      <div class="modal-body p-2" style="min-height: 100px;">
        <div id="insercommenthere" class="px-2" style="margin-top:10px;">              
    
        </div>
      </div>
      <div class="modal-footer px-2">
        <div class="input-group input-group-merge">
          <input id="comment_content" type="text" class="typing_comment form-control" placeholder="댓글 작성" aria-label="Recipient's username"
            aria-describedby="button-addon2">
          <button class="btn btn-danger" type="button" id="button-addon2" onclick="praiseCommentRegedit()">등록</button>
        </div>
      </div>
    </div>
  </div>
</div>
<!-- HOME 페이지 코멘트 모달 끝 -->

<!-- HOME 페이지 수정하기 모달 시작 -->

<div class="modal fade " id="editCard" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
  aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="position-absolute btn-close closeCustom"
              style="background:transparent; border:0; right:20px; top:25px; box-shadow: none; transform: none !important; z-index: 2;"
              data-bs-dismiss="modal">
              <span></span>
            </button>
          </div>
          <div class="modal-body p-0 mb-2 mt-2">
            <div class="mx-3">

<div id="mainNew">


  <div class="wrap_thumb_layout_1">
    <div class="swiper-container gallery-thumbs">
      <div class="swiper-wrapper">
        {% for part in images %}
		<input id="modify_thumb_path" type="hidden" value="{{part.image_path}}"></input>																		  
        <div class="swiper-slide " name="input_swiper_id" value="{{part.id}}">
          <p class="object-fit"><img id="modify_thumb" style="width:100%; height:100%; object-fit: cover;" value="{{part.id}}"></p> <!-- src="{{part.image_path}}" -->
        </div>
        {% endfor %}

      </div>
    </div>

  </div>
  <div class="wrap_thumb_layout_2">

    <div class="swiper-container gallery-top">
      <div class="swiper-wrapper">
        {% for part in images %}
        <div id="swiper{{part.id}}" class="swiper-slide" value="{{part.id}}">
          <p class="object-fit"><img id="modify_gallery" style="width:100%; height:100%; object-fit: cover;"></p> <!-- src="{{part.image_path}}" -->
        </div>
        {% endfor %}

      </div>
    </div>
    <!-- Add Arrows -->
    <div class="swiper-button-prev"><img src="/static/assets/img/icon_leftArrow.png"></div>
    <div class="swiper-button-next"><img src="/static/assets/img/icon_rightArrow.png"></div>
  </div> 
</div>
		<div id="compliment_id" style="display: none;"></div>
		<div id="employeeId" style="display: none;"></div>
		
            <div id="editcard_short_content" class="card my-2">
              <textarea class="form-control" id="modalPraiseModify_content"
                style="min-height: 200px; height:200px;"></textarea>
            </div>
        </div>
      </div>

                <div class="modal-footer px-3 d-flex justify-content-between">
            <button type="button" class="btn colorCustom_03 m-0 py-2  fw-med fs-5"
              style="width:49%; box-shadow: none; background: #e8f7ff;" data-bs-dismiss="modal">닫기</button>
            <button type="button" class="btn text-white m-0 py-2  fw-med fs-5"
            style="width:49%; box-shadow: none; background: #006ed5;" onclick="praiseModifyAct()">저장</button> <!-- data-bs-toggle="modal" data-bs-target="#chkToken_modal" -->
      </div>
    </div>
  </div>
</div>

<!-- HOME 페이지 수정하기 모달 끝 -->

<!-- HOME 페이지 삭제하기 확인 모달 시작 -->
<div class="modal fade" id="deletCard" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content" style="padding:20px;">
      <div class="title" style="text-align: center;">
        <div style="margin: 0 auto 10px; width:100px;"><img style="width:100%;height:100%; object-fit: cover;"
            src="/static/assets/img/icon_chkModal_05.png"></div>
        <h5 class="gm-bold"
          style="display: inline-block;     margin: 15px 0 20px; font-size: 35px; border-bottom:2px solid #006ed5; color:#006ed5; word-break: keep-all;">정말 삭제 하시겠습니까?</h5>
      </div>
      <input id="hreflocsave" type="hidden"></input>
      <!-- <div class="txt" style="text-align: center; margin:10px 0;">
        <P class="fw-med" style="word-break: keep-all; color:#222;"></P>
      </div> -->
      <div class="okBox gap-2" style="text-align: center; display: flex; justify-content: space-between;">
        <button style="padding:10px; width: 50%; background: #006ed5; border:0;" type="button" class="btn btn-secondary"
          data-bs-dismiss="modal" onclick="modalconfirmDelete();">확인</button>
                <button style="padding:10px; width: 50%; background: #c8edff; border:0;" type="button" class="btn btn-secondary"
          data-bs-dismiss="modal" aria-label="Close">취소</button>
      </div>
    </div>
  </div>
</div>
<!-- HOME 페이지 삭제하기 확인 모달 시작 -->

<!-- 알럿 모달 -->
<div class="modal fade" id="chkToken_modal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-centered">
		<div class="modal-content" style="padding:20px;">
			<div class="title" style="text-align: center;">
              <div style="margin: 0 auto 10px; width:100px;"><img style="width:100%;height:100%; object-fit: cover;" src="{% static 'assets/img/icon_chkModal_01.png' %}"></div>
              <h5 class="gm-bold" style="display: inline-block; font-size: 35px; border-bottom:2px solid #006ed5; color:#006ed5;">칭찬 카드가 수정 되었습니다</h5>
              <br>
            </div>
            <div class="txt" style="text-align: center; margin:10px 0;">
              <P class="fw-med" style="word-break: keep-all; color:#222;">칭찬 카드가 수정 되었습니다</P>
            </div>
            <div class="okBox" style="text-align: center;">
              <button style="padding:10px 50px; background: #006ed5;" type="button" class="btn btn-secondary" data-bs-dismiss="modal">OK</button>
            </div>
		</div>
	  </div>
</div>																							
            <script>
              
              document.addEventListener("DOMContentLoaded", function () {
                  // 이미지에 대한 우클릭 방지
                  document.querySelectorAll('.no-download').forEach(img => {
                      img.addEventListener('contextmenu', function (e) {
                          e.preventDefault();
                      });

                      // 드래그 방지
                      img.addEventListener('dragstart', function (e) {
                          e.preventDefault();
                      });
                  });

                  // 전체 문서에 대해 우클릭 방지 (선택적 적용)
                  document.addEventListener("contextmenu", function (e) {
                      e.preventDefault();
                  });

                  // F12(개발자 도구) 차단 (완벽하게 막기는 어렵지만 추가 가능)
                  document.addEventListener("keydown", function (e) {
                      if (e.key === "F12" || (e.ctrlKey && e.shiftKey && e.key === "I")) {
                          e.preventDefault();
                      }
                  });
              });

              $(document).ready(function () {
                
                var swiperTopNum = $('#editCard .gallery-top').find('.swiper-slide');
                var swiperSubNum = $('#editCard .gallery-thumbs').find('.gallery-thumbs');
                
                var galleryThumbs = new Swiper('#editCard .gallery-thumbs', {
                  spaceBetween: 10, //슬라이드 간격
				  
                  slidesPerView: '4',
                    autoHeight : true,
                  slideToClickedSlide: true, 
                });
                
                var galleryTop = new Swiper('#editCard .gallery-top', {
                  spaceBetween: 10,
                  autoHeight : true,
                  navigation: {
                    nextEl: '.swiper-button-next', 
                    prevEl: '.swiper-button-prev', 
                  },
                  slidesPerView: '1', 
                });

                galleryTop.controller.control = galleryThumbs;
                galleryThumbs.controller.control = galleryTop;
              })
              </script>
<script>

  // 공통 js 시작 - 240222
  var doc = document;

  function chkHiddenInput() {
    //부서, 직위 서브 찾기 탭 생성 시작
    const chkHiddenInputs = document.querySelectorAll('.chkHiddenInput');
    document.addEventListener('click', (event) => {
      const clickedElement = event.target;
      const isChkHiddenInput = clickedElement.classList.contains('chkHiddenInput') || clickedElement.closest(
        '.chkHiddenInput');

      chkHiddenInputs.forEach((item, index) => {
        const editSearchBox = item.querySelector('.editSearchBox');

        if (!isChkHiddenInput || item !== clickedElement.closest('.chkHiddenInput')) {
          editSearchBox.classList.add('d-none');
        } else {
          editSearchBox.classList.remove('d-none');
        }
      });
    });
    //부서, 직위 서브 찾기 탭 생성 끝
  }
  chkHiddenInput();

  // 검색 아이콘 클릭시 검색 서브 input 탭 닫기 시작
  const searchBox = document.querySelector('.searchBox');
  const searchOpenBtn = document.querySelector('.searchOpenBtn');

/*   function searchOpenBtns() {
    searchOpenBtn.addEventListener('click', () => {
      if (searchBox.classList.contains('clicked')) {
        searchBox.classList.remove('clicked');
      } else {
        searchBox.classList.add('clicked');
      }
    });
  }
  searchOpenBtns(); */

/*   function searchbtns() {
    const search = document.querySelector('.search');
    search.addEventListener('click', () => {
      if (searchBox.classList.contains('clicked')) {
        searchBox.classList.remove('clicked');
      }
    });
  }
  searchbtns(); */
  // 검색 아이콘 클릭시 검색 서브 input 탭 닫기 끝

  // HOME, MY떙큐, 우리칭찬왕, 헤더 프로필 등 프로필 사이즈 자동 조절을 위한 코드 시작 - 240223
  /* window.onload = function () {
    const userProfile = document.querySelectorAll('.user_profile, .customSize');
    if (userProfile) {
      userProfile.forEach(item => {
        const getProfileWidth = item.clientWidth;
        item.style.height = getProfileWidth + 'px';
      });
    }
  } */
  // HOME, MY떙큐, 우리칭찬왕, 헤더 프로필 등 프로필 사이즈 자동 조절을 위한 코드 끝 - 240223

</script>


  
<script>

	$(document).ready(function () {
		viewFirstPage();
	});

	String.prototype.replaceAll = function(org, dest) 
	{     
		return this.split(org).join(dest); 
	} 
	
	
	var stringToHTML = function(str) 
	{
		var dom = document.createElement('div');
		dom.setAttribute("id", "cardWrap");
		dom.setAttribute("class", "row pt-4");
		dom.innerHTML = str;
		return dom;
	};
    
	// 답장 2024.01
	$('#tokenModal').on('shown.bs.modal', function () {
		checkAndSetButtonVisibility();
	});

  let scrollTimeout; 
	window.addEventListener("scroll", (event) => {
    if (scrollTimeout) {
      clearTimeout(scrollTimeout);
    }
  
    scrollTimeout = setTimeout(function() {
      const scrollPosition = $(window).scrollTop();
      const windowHeight = $(window).height();
      const documentHeight = $(document).height();
      
      if (scrollPosition + windowHeight > documentHeight * 0.8) {
        if ("{{addPage}}" === "N") {
          $('#moreBtn').hide();
        } else {
          viewPage(); // 10개 단위로 땡큐 기록 불러오기
        }
      }
    }, 250);
	});
	
  //땡큐주간이면 칭찬 후 메인 화면에서 토큰 추가 알림 모달 팝업
  document.addEventListener("DOMContentLoaded", function() {
		const urlParams = new URLSearchParams(window.location.search);
    const showThkWeekModal = urlParams.get('showThkWeekModal');
    console.log("showThkWeekModal 접속 확인 : " + showThkWeekModal);
    if(showThkWeekModal === 'true'){
      var modal = document.getElementById("chargingModal");
      console.log("### modal : "+modal);
      var bsModal = new bootstrap.Modal(modal);
      bsModal.show();
    }

	});
	

	function checkAndSetButtonVisibility() {
		var userId = document.querySelector('#chkUserIdForReply_user_id').innerHTML;
		var praiseId = document.querySelector('#chkUserIdForReply_praise_id').innerHTML;
		var loginUserId = document.querySelector('#hiddenUserId').innerHTML;
		
		var replyButton = document.getElementById('replyButton');

		// console.log("praiseId 확인 : " + praiseId);
		// console.log("loginUserId 접속 확인 : " + loginUserId);
		
		// userId와 praiseId가 같으면 버튼을 보이게 변경
		if (praiseId === loginUserId) {
			$("#replyButton").show();
		} else {
			$("#replyButton").hide();
		}
	}

	function viewTag(idx, json_data){
			
		var data = JSON.parse(json_data.replace(/&#x27;/g, '"'));		
		var divhHtml = '';
		if (data.tag.length > 3) {
		  data.tag = data.tag.slice(0, 3);
		}

		divhHtml += '<div class="hash">';
		// compIdx에 따라 데이터 분류
		for (var i = 0; i < data.tag.length; i++) 
		{
			divhHtml += '<span class="badge colorCustom_03 fw-bold"># ' + data.tag[i] + '</span>';
		}
		divhHtml += '</div>';
		var setHtml = '';
		setHtml += divhHtml;
		setHtml += '';
		
		// tbody 엘리먼트 선택
		var viewTagHtml = document.querySelector('#viewTag'+idx);
		// tbody 내용 변경
		viewTagHtml.innerHTML = setHtml;
	}		
	function click_comment_incard()
	{
		var complimentId = document.getElementById('hiddenidval').value;
		praiseCommentData(complimentId);
	}

	function clickDetailLike() {    // 좋아요 클릭 이벤트
		_compliment_id = document.getElementById('hiddenidval').value;
		var inputData = {
			compliment_id: _compliment_id
			//value2: input2,	
		};
		 try {
			$.ajax({
				type: "POST",
				url: "/apis/praise_like/",
				data: inputData,
				success: function (data) {
					var clickLikeHtml = document.querySelector('#clickLike'+String(_compliment_id)); // 엘리먼트 선택
					clickLikeHtml.innerHTML = data.likes_count; // tbody 내용 변경
					document.getElementById('card_like_count').innerHTML = data.likes_count;
					document.getElementById('hiddenlike').value = data.likes_count;
					if (data.CancelYn == 'Y') 
					{
						var clickIconLikeHtml = document.querySelector('#clickIconLike'+String(_compliment_id));
						clickIconLikeHtml.className = "me-1";
						document.getElementById("detailClickIconLike").className = "me-1";	
					}
					else
					{
						var clickIconLikeHtml = document.querySelector('#clickIconLike'+String(_compliment_id));
						clickIconLikeHtml.className = "me-1 clicked";						
						document.getElementById("detailClickIconLike").className = "me-1 clicked";	
					}	
				},
				error: function (e) {
					console.log("### clickLike ERROR : ", e);
				}
		  })
		  .done(function() {
			// AJAX 요청 완료 후 처리할 작업
		  })
		  .fail(function() {
			// AJAX 요청 실패 시 처리할 작업
		  });
		} catch (e) {
			alert('[오류] DB적재시 내부오류가 발생했습니다. \n잠시 후 이용하시기 바랍니다.');
		}	
	}			  
		
	function clickLike(_compliment_id) {    // 좋아요 클릭 이벤트
		var inputData = {
			compliment_id: _compliment_id
			//value2: input2,	
		};
		try {
			$.ajax({
				type: "POST",
				url: "/apis/praise_like/",
				data: inputData,
				success: function (data) {
												 
														
					var clickLikeHtml = document.querySelector('#clickLike'+String(_compliment_id)); // 엘리먼트 선택
					clickLikeHtml.innerHTML = data.likes_count; // tbody 내용 변경
					document.getElementById('card_like_count').innerHTML = data.likes_count;
					document.getElementById('hiddenlike').value = data.likes_count;

																								 
									 
	  
							
														   
	   

					
						   
					
								
					if (data.CancelYn == 'Y') {
						// 엘리먼트 선택
						var clickIconLikeHtml = document.querySelector('#clickIconLike'+String(_compliment_id));
						// tbody 내용 변경
						clickIconLikeHtml.className = "me-1";
					}
							 
	  
																										  
										   
							 
																  
		
							  
					else
					{
						// 엘리먼트 선택
						var clickIconLikeHtml = document.querySelector('#clickIconLike'+String(_compliment_id));
						// tbody 내용 변경
						clickIconLikeHtml.className = "me-1 clicked";
					}	
							
	  
																										  
										   
							 
																		  
		
							  
	  
	 
																					   
																							   
											  
												 
				},
				error: function (e) {
					console.log("### clickLike ERROR : ", e);
					//alert("fail");
				}
		  })
		  .done(function() {
			// AJAX 요청 완료 후 처리할 작업
		  })
		  .fail(function() {
			// AJAX 요청 실패 시 처리할 작업
		  });
		} catch (e) {
			alert('[오류] DB적재시 내부오류가 발생했습니다. \n잠시 후 이용하시기 바랍니다.');
		}	
	}

	function praiseDetail(idx) {    // 칭찬하기 상세 데이터 이벤트
		var inputData = {
			compliment_id : idx
		};

		 try {
			$.ajax({
				type: "POST",
				url: "/apis/praise_detail/",
				data: inputData,
				success: function (data) {
					// console.log('### clickLike success');
					//console.log(data);
					var modal = document.getElementById("modalPraiseDetail");
					var pdTitle = document.getElementById("modalPraiseDetail_title");
					var pdContent = document.getElementById("modalPraiseDetail_content");
					pdTitle.textContent = data.title;
					pdContent.innerHTML = data.content;
					var bsModal = new bootstrap.Modal(modal);
					bsModal.show();
				},
				error: function (e) {
					console.log("### clickLike ERROR : ", e);
					//alert("fail");
				}
		  })
		  .done(function() {
			// AJAX 요청 완료 후 처리할 작업
		  })
		  .fail(function() {
			// AJAX 요청 실패 시 처리할 작업
		  });
		} catch (e) {
			alert('[오류] DB적재시 내부오류가 발생했습니다. \n잠시 후 이용하시기 바랍니다.');
		}	
	}
		
	function praiseRegeditPop(idx) {    // 칭찬하기 등록 팝업 이벤트
		var modal = document.getElementById("modalPraiseRegedit");
		var bsModal = new bootstrap.Modal(modal);
		bsModal.show();
	}
		
	function praiseRegedit(idx) {    // 칭찬하기 등록 처리 이벤트
		var compliment_id = document.querySelector('#compliment_id'+idx);  // 칭찬 ID
		var praise_id = document.querySelector('#praise_id'+idx);  // 칭찬받는사람 사번
		var user_id = document.querySelector('#user_id'+idx);  // 칭찬글 등록자 사번
		var title = document.querySelector('#title'+idx);  // 칭찬 제목
		var compliment_type = document.querySelector('#compliment_type'+idx);  // 칭찬종류 (1:칭찬, 2:축하,3:감사)
		var content = document.querySelector('#content'+idx);  // 칭찬 내용
		var image = document.querySelector('#image'+idx);  // 배경이미지 ID
		var token_yn = document.querySelector('#token_yn'+idx);  // 토큰 선물 여부
		var inputData = {
			compliment_id : compliment_id,
			praise_id : praise_id,
			user_id : user_id,
			title : title,
			compliment_type : compliment_type,
			content : content,
			image : image,
			token_yn : token_yn
		};

		 try {
			$.ajax({
				type: "POST",
				url: "/apis/praise_regedit/",
				data: inputData,
				success: function (data) {
					// console.log('### clickLike success');
					//console.log(data);
				},
				error: function (e) {
					console.log("### clickLike ERROR : ", e);
					//alert("fail");
				}
		  })
		  .done(function() {
			// AJAX 요청 완료 후 처리할 작업
		  })
		  .fail(function() {
			// AJAX 요청 실패 시 처리할 작업
		  });
		} catch (e) {
			alert('[오류] DB적재시 내부오류가 발생했습니다. \n잠시 후 이용하시기 바랍니다.');
		}	
	}

  function todayThankyouSet(idx, yn)
  {
    var inputData = {
			compliment_id: idx,
			chg_yn: yn
		};

    try {
			$.ajax({
				type: "POST",
				url: "/apis/change_todaythankyou/",
				data: inputData,
				success: function (data) {
					console.log('### change_todaythankyou success data', data);

          if(data.updated == 'Y'){
            alert('투데이 땡큐 등록이 완료되었습니다.');
          }else{
            alert('투데이 땡큐 해제가 완료되었습니다.');
          }
          
          window.location.href = "{%url 'home'%}";

				},
				error: function (e) {
					console.log("### change_todaythankyou ERROR : ", e);
					//alert("fail");
				}
		  })
		  .done(function() {
			// AJAX 요청 완료 후 처리할 작업
		  })
		  .fail(function() {
			// AJAX 요청 실패 시 처리할 작업
		  });
		} catch (e) {
			alert('[오류] TodayThankyou 변경시 내부오류가 발생했습니다. \n잠시 후 이용하시기 바랍니다.');
		}	

  }

	function praiseModifyPop(idx, editcard_photo_img, editcard_short_content, images_id) // 칭찬하기 수정 팝업 이벤트'
	{    
    var mdthumb = document.querySelectorAll("#modify_thumb_path");
		var mdthumb_img = document.querySelectorAll("#modify_thumb");
		var mdgallery_img = document.querySelectorAll("#modify_gallery");
		
		for (var m = 0; m < mdthumb.length; m++)
		{
			mdthumb_img[m].src = mdthumb[m].value;
			mdgallery_img[m].src = mdthumb[m].value;
		}
		//short_content = String(editcard_short_content).replaceAll('<br>', '\n');
		short_content = String(document.getElementById('modify_content'+String(idx)).value).replaceAll('<br>', '\n');
		if (short_content[0] == "'" && short_content[short_content.length-1] == "'")
		{
			short_content = short_content.substring(1, short_content.length-1);
		}
		//console.log(short_content);
		document.querySelector("#editcard_short_content textArea").innerHTML = short_content;
		//console.log('### praiseModifyPop 변수값 확인 ###');
		document.getElementById('compliment_id').value = idx;

	   
		   
				 
								
								  
							  
												 
						 
	 
	   
		document.getElementById('modalPraiseModify_content').value = short_content;		
		
															  
											  
					
													
												   
																		
												 
	 
										 
	 
	  
						 
												  
	 
	  
					  
											 
	  
					  
											 
	   
			   
																												
	
	}
		
	function praiseModifyAct() {    // 칭찬하기 수정 처리 이벤트
		var compliment_id = document.querySelector('#compliment_id');  // 칭찬 ID
		var content = $("#modalPraiseModify_content").val();
		var images_id = document.querySelector('.swiper-slide-active[name="input_swiper_id"]').getAttribute('value');
		var newimgsrc = document.querySelector('.swiper-slide-active[name="input_swiper_id"]').querySelector("p").querySelector("img").src;
		//console.log('praise modify act');

		var inputData = {
			compliment_id : compliment_id.value,
			//compliment_type : compliment_type.value,
			content : content,
			images_id : images_id
			//is_active : is_active
		};
  
														
															 
										   
											   

		try {
			$.ajax({
				type: "POST",
				url: "/apis/praise_modify/",
				data: inputData,
				success: function (data) {
					console.log('### praise_modify success');
					//console.log(data);
					document.getElementById('pcard_desc'+String(compliment_id.value)).innerHTML = data.short_content;
					document.getElementById('modify_content'+String(compliment_id.value)).value = content;
					document.getElementById('cardmodalimg'+String(compliment_id.value)).src = newimgsrc;					
					
          alert('칭찬 카드가 수정 되었습니다'); // 칭찬 카드 수정 완료 알럿, 	chkToken_modal 모달을 검색 해주세요 모달 사용시, 이부분 주석처리 해주세요 
          // var modal = document.getElementById("editCard"); //해당코드로 하면 닫힘이 안됨
          // var bsModal = new bootstrap.Modal(modal);
          // bsModal.hide();
          $('#editCard').modal('hide'); //칭찬카드 수정하고 바로 닫힘 모달 닫기시 사용

				},
				error: function (e) {
					console.log("### praise_modify ERROR : ", e);
					//alert("fail");
				}
		  })
		  .done(function() {
			// AJAX 요청 완료 후 처리할 작업
		  })
		  .fail(function() {
			// AJAX 요청 실패 시 처리할 작업
		  });
		} catch (e) {
			alert('[오류] DB적재시 내부오류가 발생했습니다. \n잠시 후 이용하시기 바랍니다.');
		}	
					 
	}
		
	function praiseCommentPop(idx, complimentId ,employeeId) 
	{    // 칭찬하기 댓글 팝업 이벤트
		praiseCommentData(complimentId);
															  
											 
				   
		document.getElementById('compliment_id').value = complimentId;
		document.getElementById('employeeId').value = employeeId;
  
  
	}

	function replySend(userId){
		// console.log("check : " + userId);
		var url = "/praiseRegedit/?userId=" + userId;
		
		window.location.href = url;

	}
		
	function praiseCommentRegedit() {    // 칭찬하기 댓글 신규 등록 이벤트
		var compliment_id_val = document.getElementById('compliment_id').value;
		var employee_id = document.getElementById('employeeId').value;
		var comment_content = document.getElementById('comment_content');  // 댓글 내용
				
								
							  
										
  
	
				   
					  
	   
  
																	

		if (!comment_content.value) {
			Warning('필수입력 오류','댓글을 작성해 주세요.');
			$.unblockUI();  
			return false;
		}
		
		var inputData = {
			compliment_id : compliment_id_val,
			employee_id : employee_id,
			comment_content : comment_content.value,
			is_active : "Y"
		};

		try {
			$.ajax({
				type: "POST",
				url: "/apis/praise_comment_regedit/",
				data: inputData,
				success: function (data) {
					// console.log('### clickLike success');
					//console.log(data);
					var modal = document.getElementById("modalPraiseComment");
					modal.style.display = "none";
					modal.style.display = "block";
					//console.log(compliment_id_val);
					var elemid = document.getElementById('clickComment'+String(compliment_id_val));
					if (parseInt(elemid.innerHTML) == 0)
					{
						document.getElementById('clickIconComment'+String(compliment_id_val)).className = 'me-1 clicked';
					}
					elemid.innerHTML = String(parseInt(elemid.innerHTML) + 1);
					praiseCommentData(compliment_id_val);
					document.getElementById('comment_content').value = '';
				},
				error: function (e) {
					console.log("### clickLike ERROR : ", e);
					//alert("fail");
				}
		  })
		  .done(function() {
			// AJAX 요청 완료 후 처리할 작업
		  })
		  .fail(function() {
			// AJAX 요청 실패 시 처리할 작업
		  });
		} catch (e) {
			console.log(e);
			alert('[오류] DB적재시 내부오류가 발생했습니다. \n잠시 후 이용하시기 바랍니다.');
		} 
	}
		
	function praiseCommentDelete(compliment_id, comment_id) {    // 칭찬하기 댓글 삭제 이벤트
		var inputData = {
			compliment_id : compliment_id,
			comment_id : comment_id
		};


		try {
			$.ajax({
				type: "POST",
				url: "/apis/praise_comment_delete/",
				data: inputData,
				success: function (data) {
					// console.log('### clickLike success');
					// console.log(data);

					praiseCommentData(compliment_id);
					var elemid = document.getElementById('clickComment'+String(compliment_id));
					if (parseInt(elemid.innerHTML) == 1)
					{
						document.getElementById('clickIconComment'+String(compliment_id)).className = "me-1";
					}
				},
				error: function (e) {
					console.log("### clickLike ERROR : ", e);
					//alert("fail");
				}
		  })
		  .done(function() {
			// AJAX 요청 완료 후 처리할 작업
		  })
		  .fail(function() {
			// AJAX 요청 실패 시 처리할 작업
		  });
		} catch (e) {
			alert('[오류] DB적재시 내부오류가 발생했습니다. \n잠시 후 이용하시기 바랍니다.');
		} 
	}
		
	function praiseCommentModifyView(compliment_id, comment_id) {    // 칭찬하기 댓글 수정 화면 이벤트

    // console.log("### praiseCommentModifyView 값 확인  ###");
    // console.log("### compliment_id : "+compliment_id);
    // console.log("### comment_id : "+comment_id);

		var commentButton = document.getElementById('buttonComment'+comment_id);
		var commentText = document.getElementById('spanComment'+comment_id);
		var input = document.createElement('input');
		input.type = 'text';
		input.id = 'commentText'+comment_id;
		input.name = 'commentText';
		input.value = commentText.textContent;
		input.style.marginBottom = '5px';
		input.classList.add("form-control");
		commentText.parentNode.replaceChild(input, commentText);
		
		// 버튼의 텍스트 변경
		commentButton.textContent = "저장";

		// onclick 이벤트 처리 함수 변경
		commentButton.onclick = function() {
		  praiseCommentModifyAct(compliment_id, comment_id);
		};
	}

	function praiseCommentModifyAct(compliment_id, comment_id) {    // 칭찬하기 댓글 수정 처리 이벤트
		var commentText = document.getElementById('commentText'+comment_id);

		// console.log("### praiseCommentModifyAct 값 확인  ###");
		// console.log("### compliment_id : "+compliment_id);
		// console.log("### comment_id : "+comment_id);
		// console.log("### commentText1 : "+commentText);
		// console.log("### commentText2 : "+commentText.value);

		var inputData = {
			compliment_id : compliment_id,
			comment_id : comment_id,
			comment_content : commentText.value,
			is_active : 'Y'
		};

		try {
			$.ajax({
				type: "POST",
				url: "/apis/praise_comment_modify/",
				data: inputData,
				success: function (data) {
					// console.log('### clickLike success');
					// console.log(data);

					praiseCommentData(compliment_id);
				},
				error: function (e) {
					console.log("### clickLike ERROR : ", e);
					//alert("fail");
				}
		  })
		  .done(function() {
			// AJAX 요청 완료 후 처리할 작업
		  })
		  .fail(function() {
			// AJAX 요청 실패 시 처리할 작업
		  });
		} catch (e) {
			alert('[오류] DB적재시 내부오류가 발생했습니다. \n잠시 후 이용하시기 바랍니다.');
		}
	}
	
	function clearAllElementsById(id) {
		var element = document.getElementById(id);
		if (element) {
			while (element.firstChild) {
				element.removeChild(element.firstChild);
			}
		} else {
			console.error("Element with id '" + id + "' not found.");
		}
	}
		
	function praiseCommentData(idx) {    // 칭찬하기 댓글 데이터 불러와서 그리는 이벤트
		
		clearAllElementsById("insercommenthere");
		
		var inputData = {
			compliment_id : idx
		};

		try {
			$.ajax({
				type: "POST",
				url: "/apis/praise_comment_list/",
				data: inputData,
				success: function (data) {
					// console.log('### praise_comment_list success');
					//console.log(data);
					var list = data.data_list;
					html = ''; 
					var targetdoc = document.getElementById('insercommenthere');
					
					try
					{
						document.getElementById("clickComment" + String(idx)).innerHTML = list.length;
					}
					catch
					{
						asd = 1;
					}

					// list를 사용하여 원하는 처리 수행
					for (var i = 0; i < list.length; i++) {
						var item = list[i];
						var regDate = item.reg_date.split(' ')[0];
						var comment_content = item.comment_content;
						var user_employee_name = item.user_employee_name;
						var user_image_yn		 = item.image_yn;
						var user_image			 = item.image;

												
						if(user_image_yn != 'Y'){
						   user_image = "/static/assets/img/profile_icon.png";
						}
						
						html += '<div class="fw-med mb-2" style="font-size: 12px;"><div class="d-flex align-items-center mb-1" style="justify-content: space-between;">';
						html += '<div class="d-flex align-items-center"><div class="d-flex align-items-center">';
						html += '<img style="width:25px; height: 25px; object-fit: cover; border-radius: 100%; margin-right:5px;" src="'+user_image+'" alt="">';
						html += '<p class="fw-bold m-0 p-0" style="color:#222; font-size: 14px;">'+user_employee_name+'</p>';
						html += `
            </div><span class="" style="color:lightgray; font-size: 10px; margin-left:5px;">`+regDate+`</span></div>
            <div>
               ${ {{user.id}} === item.user_id ? '<button type="button" id="buttonComment'+item.comment_id+'" class="btn btn-xs rounded-pill me-2 btn-label-primary" onclick="praiseCommentModifyView(\''+item.compliment_id+'\',\''+item.comment_id+'\')">수정</button><button type="button" class="btn btn-xs rounded-pill me-2 btn-label-danger" onclick="praiseCommentDelete(\''+item.compliment_id+'\',\''+item.comment_id+'\')">삭제</button>' : ''}
                            </div>
           
						</div>
            <p id="spanComment${item.comment_id}">${item.comment_content}</p></div> `;
		  
					}
					targetdoc.insertAdjacentHTML('beforeend',html);
					
				},
				error: function (e) {
					console.log("### clickLike ERROR : ", e);
					//alert("fail");
				}
		  })
		  .done(function() {
			// AJAX 요청 완료 후 처리할 작업
		  })
		  .fail(function() {
			// AJAX 요청 실패 시 처리할 작업
		  });
		} catch (e) {
			alert('[오류] DB적재시 내부오류가 발생했습니다. \n잠시 후 이용하시기 바랍니다.');
		}
	}
		
	function searchMember() {    
		/*************************************************
		 * 입력값 검증
		 *************************************************/  
		var _employee_name      = $( 'input#input_employee_name' ).val();

		if (!_employee_name) {
			Warning('필수입력 오류','칭찬직원 입력해 주세요.')
			$.unblockUI();  
			return false;
		}
		
		var inputData = {
			employee_name: _employee_name
			//value2: input2,
			//value3: input3
			
		};
		
		 try {
			$.ajax({
				type: "POST",
				url: "/apis/praise_member/",
				data: inputData,
				success: function (data) {
					// console.log('### praise_member success');
					// console.log(data);
					
					// console.log(data.data_list.length);
					// console.log(data.data_list[0].employee_name);
					
					var select = document.createElement('select');
					//select.setAttribute('multiple', '');
					select.setAttribute('class', 'form-select');
					select.setAttribute('id', 'input_employee_id');
					select.setAttribute('name', 'input_employee_id');
					select.setAttribute('aria-label', 'Multiple select example');

					for (var i = 0; i < data.data_list.length; i++) {
					  var option = document.createElement('option');
					  option.value = data.data_list[i].id;
					  option.text = data.data_list[i].department_name + ' ' + data.data_list[i].employee_name + ' 프로';
					  select.appendChild(option);
					}

					var divHtml = document.querySelector('#div_praise_member');
					divHtml.innerHTML = '';
					divHtml.appendChild(select);
				},
				error: function (e) {
					console.log("### praise_member ERROR : ", e);
					//alert("fail");
				}
		  })
		  .done(function() {
			// AJAX 요청 완료 후 처리할 작업
		  })
		  .fail(function() {
			// AJAX 요청 실패 시 처리할 작업
		  });
		} catch (e) {
			alert('[오류] DB적재시 내부오류가 발생했습니다. \n잠시 후 이용하시기 바랍니다.');
		}
	}

  function renderSkeletons() {
    const container = $("#cardWrap");

    for (let i = 0; i < 6; i++) {
      const counter = i + 1;
        container.append(`
          <div class="skeleton-item chkCard col-lg-4 col-md-6 mb-2">
          <div class="card cardList">
            <div class="card-body p-3 d-flex justify-content-center align-items-center">
              <div class="d-flex align-items-center" style="width: -webkit-fill-available;">
                <a class="me-2" href="#" style="width: 32px; height: 32px; border-radius: 100%;">
                  <div class="skeleton-avatar"></div>
                </a>
                <div style="width: 50%;">
                  <p class="card-title colorCustom_02 mb-1 fw-med skeleton-line"></p>
                  <h6 class="card-text colorCustom_01 skeleton-line"></h6>
                </div>
              </div>
              <span class="mx-2 d-block icon_right_arrow"></span>
              <div class="d-flex align-items-center" style="width: -webkit-fill-available;">
                <a class="me-2" href="#" style="width: 32px; height: 32px; border-radius: 100%;">
                  <div class="skeleton-avatar"></div>
                </a>
                <div style="width: 50%;">
                  <p class="card-title colorCustom_02 mb-1 fw-med skeleton-line"></p>
                  <h6 class="card-text colorCustom_01 skeleton-line"></h6>
                </div>
              </div>
            </div>
            <div class="card-body px-0 py-3 mx-3" style="border-top:1px solid #14a8ea;">
              <div class="mb-3">
                <a class="d-flex">
                  <div style="width:80px; height:80px; overflow: hidden; border-radius: 10px; margin-right:10px;">
                    <div class="skeleton-card-icon"></div>
                  </div>
                  <div class="overflow-hidden" style="width: calc(100% - 90px);">
                    <p style="min-height: 50px; text-overflow: ellipsis; word-wrap: break-word; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;"
                      class="card-text mb-0 colorCustom_01 fw-med skeleton-content"></p>
                  </div>
                </a>
              </div>
              <div class="card-body p-0 d-flex justify-content-between">
                <div class="d-flex" style="align-items: center; width: -webkit-fill-available;">
                  <a class="d-flex heartBtn btn p-0 me-2 skeleton-like"></a>
                  <a class="d-flex commentBtn btn p-0 me-2 skeleton-comment"></a>
                </div>
                <div class="position-relative">
                  <a class="btn p-0 me-1 fw-med colorCustom_01 skeleton-date"></a>
                </div>
              </div>
            </div>
          </div>
        </div>
        `);
    }
  }

  function viewFirstPage() {    
    const input_search = "{{search_employee_name}}";
    const exist_todaythanks = "{{exist_todaythanks}}";

		try {
			$.ajax({
				type: "GET",
				url: `/apis/praise_first_page${input_search ? "_search" : ""}/`,
        data: { input_search, exist_todaythanks },
        beforeSend: function () {
          renderSkeletons();
        },
				success: function (data) {
					//console.log('### viewPage success');
					
					if (data.data_count === 0) {
						$('#moreBtn').hide();
						$('#cardWrap').html(`
              <div class="card cardList">
                <div class="card-body p-3 d-flex justify-content-center align-items-center">
                  <div class="d-flex align-items-center">
                    칭찬글이 없습니다
                  </div>
                </div>
              </div>
            `);
					}
					
					var html = '';
					for (var i = 0; i < data.data_list.length; i++) {
									
						var user_image_yn		 = data.data_list[i].user_image_yn;
						var user_image			 = data.data_list[i].user_image;
						var user_employee_id	 = data.data_list[i].user_employee_id;
						var user_employee_name 	 = data.data_list[i].user_employee_name;
						var user_department_name = data.data_list[i].user_department_name;
						var user_position_name   = data.data_list[i].user_position_name;
						var user_company_name    = data.data_list[i].user_company_name;
						
						var praise_image 		 = data.data_list[i].praise_image;
						var praise_image_yn 	 = data.data_list[i].praise_image_yn;
						var praise_employee_id 	 = data.data_list[i].praise_employee_id;
						var praise_employee_name   = data.data_list[i].praise_employee_name;
						var praise_department_name = data.data_list[i].praise_department_name;
						var praise_position_name   = data.data_list[i].praise_position_name;
						var praise_company_name    = data.data_list[i].praise_company_name;
						
						var image_path 			 = data.data_list[i].image_path;
						var content 			 = data.data_list[i].content;
						var short_content     	 = String(data.data_list[i].short_content);
						var tag 	             = data.data_list[i].tag;
						
						var compliment_id 	     = data.data_list[i].compliment_id;
						var comment_count 	     = data.data_list[i].comment_count;
						var likes_count 	     = data.data_list[i].likes_count;
						var praise_id 	         = data.data_list[i].praise_id;
						var user_id 	         = data.data_list[i].user_id;
						var like_yn 	         = data.data_list[i].like_yn;
            var images_id			 = data.data_list[i].images_id;
												
						var reg_date 	         = data.data_list[i].reg_date;
						var todaythanks_showyn 	 = data.data_list[i].todaythanks_showyn;
						
						var user_company_name_short;

						if (user_company_name === "우리은행") {
							user_company_name_short = "은행";
						} else if (user_company_name === "우리카드") {
							user_company_name_short = "카드";
						} else if (user_company_name === "우리에프아이에스") {
							user_company_name_short = "FIS";
						} else if (user_company_name === "우리금융지주") {
							user_company_name_short = "지주";
						} else if (user_company_name === "우리프라이빗에퀴티자산운용") {
							user_company_name_short = "PE";
						} else if (user_company_name === "우리펀드서비스") {
							user_company_name_short = "펀드";
						} else if (user_company_name === "우리신용정보") {
							user_company_name_short = "신용정보";
						} else if (user_company_name === "우리금융경영연구소") {
							user_company_name_short = "연구소";
						} else if (user_company_name === "우리투자증권") {
							user_company_name_short = "우투";
						} else if (user_company_name === "우리자산운용") {
							user_company_name_short = "자산운용";
						} else if (user_company_name === "우리자산신탁") {
							user_company_name_short = "자산신탁";
						} else if (user_company_name === "우리글로벌자산운용") {
							user_company_name_short = "글로벌";
						} else if (user_company_name === "우리금융캐피탈") {
							user_company_name_short = "캐피탈";
						} else if (user_company_name === "우리금융저축은행") {
							user_company_name_short = "저축은행";
						} else if (user_company_name === "우리금융에프앤아이") {
							user_company_name_short = "F&I";
						} else if (user_company_name === "우리벤처파트너스") {
							user_company_name_short = "벤처";
						} else {
							user_company_name_short = user_company_name;
						}
						
						var praise_company_name_short;

						if (praise_company_name === "우리은행") {
							praise_company_name_short = "은행";
						} else if (praise_company_name === "우리카드") {
							praise_company_name_short = "카드";
						} else if (praise_company_name === "우리에프아이에스") {
							praise_company_name_short = "FIS";
						} else if (praise_company_name === "우리금융지주") {
							praise_company_name_short = "지주";
						} else if (praise_company_name === "우리프라이빗에퀴티자산운용") {
							praise_company_name_short = "PE";
						} else if (praise_company_name === "우리펀드서비스") {
							praise_company_name_short = "펀드";
						} else if (praise_company_name === "우리신용정보") {
							praise_company_name_short = "신용정보";
						} else if (praise_company_name === "우리금융경영연구소") {
							praise_company_name_short = "연구소";
						} else if (praise_company_name === "우리투자증권") {
							praise_company_name_short = "우투";
						} else if (praise_company_name === "우리자산운용") {
							praise_company_name_short = "자산운용";
						} else if (praise_company_name === "우리자산신탁") {
							praise_company_name_short = "자산신탁";
						} else if (praise_company_name === "우리글로벌자산운용") {
							praise_company_name_short = "글로벌";
						} else if (praise_company_name === "우리금융캐피탈") {
							praise_company_name_short = "캐피탈";
						} else if (praise_company_name === "우리금융저축은행") {
							praise_company_name_short = "저축은행";
						} else if (praise_company_name === "우리금융에프앤아이") {
							praise_company_name_short = "F&I";
						} else if (praise_company_name === "우리벤처파트너스") {
							praise_company_name_short = "벤처";
						} else {
							praise_company_name_short = praise_company_name;
						}
						
						short_content = short_content.replace(/\n/g," ");
						short_content = short_content.replace(/\s+/g, ' '," ");
						short_content = short_content.replace(/\s/g, ' '," ");
																		
						if (todaythanks_showyn == "Y") {
							html += '<div class="chkCard todayThank col-lg-4 col-md-6 mb-2">';
						}
						else if (praise_id == "{{ user.id}}") {
							html += '<div class="chkCard sendMeCard col-lg-4 col-md-6 mb-2">';
						}
						else{
							html += '<div class="chkCard col-lg-4 col-md-6 mb-2">';
						}
						
						if (todaythanks_showyn == "Y") {
							html += `<div class="card cardList"><span class="todayHeader position-absolute"><img class="w-100"
                src="/static/assets/img/today_thank_header.png" alt=""></span>`;
						}
            else {
              html += '<div class="card cardList">';
            }

              html += '<div class="card-body p-3 d-flex justify-content-center align-items-center"><div class="d-flex align-items-center">';
              html += '<a class="me-2" style="width: 32px; height: 32px; border-radius: 100%; border:1px solid #d3f1ff; overflow: hidden;" href="#" data-bs-toggle="modal" data-bs-dismiss="modal" data-bs-target="#profile_modal">';
						if(user_image_yn == 'Y')
						{
							html += '<img src="'+user_image+'" class="img-fluid" onclick=\'javascript:viewProfile("'+user_id+'", "'+user_image_yn+'", "'+user_image+'", "'+user_employee_id+'", "'+user_employee_name+'", "'+user_department_name+'", "'+user_position_name+'", "'+user_company_name+'")\'/>';
							
						}
						else
						{
							html += '<img src="/static/assets/img/profile_bee_01.png" class="img-fluid" onclick=\'javascript:viewProfile("'+user_id+'", "'+user_image_yn+'", "'+user_image+'", "'+user_employee_id+'", "'+user_employee_name+'", "'+user_department_name+'", "'+user_position_name+'", "'+user_company_name+'")\'/>';
						}
						html += '</a><div><p class="card-title colorCustom_02 m-0 fw-med">'+user_company_name_short + ' ' + user_department_name.substring(0, 8)+'</p>';
					    html += '<h6 class="card-text colorCustom_01" style="font-size: 12px;">'+user_employee_name+'<span class="fw-bold colorCustom_03" style="font-size: 10px;">' + ' ' + user_position_name+'</span></h6></div></div>';
              html += '<span class="mx-2 d-block icon_right_arrow"></span><div class="d-flex align-items-center"><a class="me-2" style="width: 32px; height: 32px; border-radius: 100%; border:1px solid #d3f1ff; overflow: hidden;" href="#" data-bs-toggle="modal" data-bs-dismiss="modal" data-bs-target="#profile_modal">';
						if(praise_image_yn == 'Y'){
							html += '<img src="'+praise_image+'" class="img-fluid" onclick=\'javascript:viewProfile("'+praise_id+'", "'+praise_image_yn+'", "'+praise_image+'", "'+praise_employee_id+'", "'+praise_employee_name+'", "'+praise_department_name+'", "'+praise_position_name+'", "'+praise_company_name+'")\' />';
						}else{
							html += '<img src="/static/assets/img/profile_bee_01.png" class="img-fluid" onclick=\'javascript:viewProfile("'+praise_id+'", "'+praise_image_yn+'", "'+praise_image+'", "'+praise_employee_id+'", "'+praise_employee_name+'", "'+praise_department_name+'", "'+praise_position_name+'", "'+praise_company_name+'")\' />';
						}
												
						html += '</a><div><p class="card-title colorCustom_02 m-0 fw-med">'+praise_company_name_short + ' ' + praise_department_name.substring(0, 8)+'</p>';
						html += '<h6 class="card-text colorCustom_01" style="font-size: 12px;">'+praise_employee_name+'<span class="fw-bold colorCustom_03" style="font-size: 10px;">' + ' ' + praise_position_name +'</span></h6></div></div></div>';
						htmlcheckpoint1 = '<div class="card-body px-0 py-3 mx-3" style="border-top:1px solid #14a8ea;"><div class="mb-3"><a data-bs-toggle="modal" data-bs-target="#card_modal" href="#" class="d-flex" onclick=\'viewToken("'+compliment_id+'","'+todaythanks_showyn+'","'+user_id+'","'+praise_id+'","'+user_employee_name+'", "'+praise_employee_name+'", "'+content+'", "'+user_image+'", "'+praise_image+'", "'+user_image_yn+'", "'+praise_image_yn+'", "/static/assets/img/profile_bee_01.png", "'+image_path+'", "'+likes_count+'", "'+comment_count+'", "'+reg_date.slice(0, 10)+'");\'/>';
						html += htmlcheckpoint1;
						<!-- 요부분 수정 했음 -->
						html += '<div style="width:80px; height:80px; overflow: hidden; border-radius: 10px; margin-right:10px;"><img id="cardmodalimg'+compliment_id+'" style="object-fit: cover; height: 100%; width: 100%;" src="'+image_path+'" class="img-fluid"></div>';
						html += '<div class="overflow-hidden" style="width: calc(100% - 90px);"><p id="pcard_desc'+compliment_id+'" style="min-height: 50px; text-overflow: ellipsis; word-wrap: break-word; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;" class="card-text mb-0 colorCustom_01 fw-med">'+short_content+'</p><div id="viewTag'+compliment_id+'"></div></div>';
						html += '</a></div>';
						html += '<div class="card-body p-0 d-flex justify-content-between"><div class="d-flex" style="align-items: center;">';
						html += '<a href="javascript:void(0);" onclick="clickLike('+compliment_id+');" class="d-flex heartBtn btn p-0 me-2">';
						if (like_yn == 1)
						{
							html += '<i id="clickIconLike'+compliment_id+'" class="me-1 clicked"></i>';
						}
						else
						{
							html += '<i id="clickIconLike'+compliment_id+'" class="me-1"></i>';
						}
						<!-- 요부분 아래부분 다 수정했음 -->
						
						html += '<span id="clickLike'+compliment_id+'" class="fw-med colorCustom_01">'+likes_count+'</span></a>';
						html += '<a href="#" class="d-flex commentBtn btn p-0 me-2" data-bs-toggle="modal" data-bs-target="#modalPraiseComment" onclick="praiseCommentPop(0,'+compliment_id+', '+praise_id+');">';
						if (String(comment_count) == '0')
						{
							html += '<i id="clickIconComment'+compliment_id+'" class="me-1">';
						}
						else
						{
							html += '<i id="clickIconComment'+compliment_id+'" class="me-1 clicked">';
						}
						
						html += '</i><span id="clickComment'+compliment_id+'" class="fw-med colorCustom_01">'+comment_count+'</span></a>';
						if ("{{user.id}}" == praise_id)
						{
							html += '<a href="/praiseRegedit/?userId='+user_id+'" class="replyBtn fw-med d-flex p-0 colorCustom_01" style="font-size: 12px;"><i class="me-1"></i>답장하기</a>';
						}
						
						html += '</div><div class="position-relative"><a href="#" class="btn p-0 me-1 fw-med colorCustom_01" style="cursor:default;">';
						if(String(user_id) == '15893')
						{
							asd = 1;
						}
						else
						{
							html += '<span>'+reg_date.slice(0, 10)+'</span>';
						}
						html += '</a>';
						//////////////////////////
						var currentuid = String("{{user.id}}");
						var currentsuperuid = String("{{user.is_superuser}}");
						if ("{{user.id}}" == user_id || "{{user.is_superuser}}" == "True")
						{
							html += '<button class="btn p-0 editBtn" type="button" id="conversionRate" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span class="d-block"></span></button>';
							html += '<div class="dropdown-menu dropdown-menu-end" aria-labelledby="conversionRate" data-popper-placement="bottom-end" style="position: absolute; inset: 0px 0px auto auto; margin: 0px; transform: translate(0px, 25px);">';
							html += '<input id="modify_content'+compliment_id+'" type="hidden" value="'+content+'"></input>';
              if( "{{user.is_superuser}}" == "True" && todaythanks_showyn == 'Y' ){
                  html += '<a class="dropdown-item" onclick="todayThankyouSet(\''+compliment_id+'\',\'N\');">투데이땡큐해제</a>';
              }else if("{{user.is_superuser}}" == "True" && todaythanks_showyn != 'Y' ){
                  html +='<a class="dropdown-item" onclick="todayThankyouSet(\''+compliment_id+'\',\'Y\');">투데이땡큐등록</a>';
              }
							html += '<a class="dropdown-item" href="javascript:void(0);" data-bs-toggle="modal" data-bs-target="#editCard" onclick="praiseModifyPop(\''+compliment_id+'\',\''+image_path+'\',\''+content+'\',\''+images_id+'\' );">수정하기</a>';
							//html += '<a class="dropdown-item" data-bs-toggle="modal" data-bs-target="#deletCard" onclick="confirmDelete(\'/praiseDelete/'+compliment_id+'\');">삭제하기</a></div>'; 
							html += '<a class="dropdown-item" onclick="confirmDelete(\'/praiseDelete/'+compliment_id+'\');">삭제하기</a></div>';
						}	
						///////////////////////////
						html += '</div></div></div></div></div>';		
						
					}
					
					//$('.container-xxl mt-2').append(html);
					//document.getElementById('cardWrap').append(stringToHTML(html));
					document.getElementById('cardWrap').insertAdjacentHTML('beforeend',html);
					
				},
				error: function (e) {
					console.log("### testAPI ERROR : ", e);
					//alert("fail");
				},
        complete: function() {
          $('#cardWrap').find('.skeleton-item').remove();
        }
		  })
		  .done(function() {
			  // AJAX 요청 완료 후 처리할 작업
		  })
		  .fail(function() {
			  // AJAX 요청 실패 시 처리할 작업
		  });
		} catch (e) {
			alert('[오류] DB적재시 내부오류가 발생했습니다. \n잠시 후 이용하시기 바랍니다.');
		}	
	}
	
		
	function viewPage() {    
    if ($("#moreBtn").css("display") === "none") {
      return;
    }

		// console.log('### viewPage CALL ###');
				
		var _SuccessCount = document.getElementById("SuccessCount").value;
		var inputData = {
			pageNumber: parseInt(_SuccessCount),
      input_search: "{{search_employee_name}}",
      exist_todaythanks: "{{exist_todaythanks}}"
		};
		
		_SuccessCount = parseInt(_SuccessCount) + 1;    
		document.getElementById("SuccessCount").value = _SuccessCount;
		
		//var htmlsyntax = String(document.getElementById("referencehtml").innerHTML);
							
		try {
			$.ajax({
				type: "GET",
				url: "/apis/praise_page/", 
				data: inputData,
        beforeSend: function() {
          renderSkeletons();
        },
				success: function (data) {
					//console.log('### viewPage success');
					
					if (data.data_count === 0) {
						$('#moreBtn').hide();
					}
					
					var html = '';
					for (var i = 0; i < data.data_list.length; i++) {
									
						var user_image_yn		 = data.data_list[i].user_image_yn;
						var user_image			 = data.data_list[i].user_image;
						var user_employee_id	 = data.data_list[i].user_employee_id;
						var user_employee_name 	 = data.data_list[i].user_employee_name;
						var user_department_name = data.data_list[i].user_department_name;
						var user_position_name   = data.data_list[i].user_position_name;
						var user_company_name    = data.data_list[i].user_company_name;
						
						var praise_image 		 = data.data_list[i].praise_image;
						var praise_image_yn 	 = data.data_list[i].praise_image_yn;
						var praise_employee_id 	 = data.data_list[i].praise_employee_id;
						var praise_employee_name   = data.data_list[i].praise_employee_name;
						var praise_department_name = data.data_list[i].praise_department_name;
						var praise_position_name   = data.data_list[i].praise_position_name;
						var praise_company_name    = data.data_list[i].praise_company_name;
						
						var image_path 			 = data.data_list[i].image_path;
						var content 			 = data.data_list[i].content;
						var short_content     	 = String(data.data_list[i].short_content);
						var tag 	             = data.data_list[i].tag;
						
						var compliment_id 	     = data.data_list[i].compliment_id;
						var comment_count 	     = data.data_list[i].comment_count;
						var likes_count 	     = data.data_list[i].likes_count;
						var praise_id 	         = data.data_list[i].praise_id;
						var user_id 	         = data.data_list[i].user_id;
						var like_yn 	         = data.data_list[i].like_yn;
            var images_id			 = data.data_list[i].images_id;
												
						var reg_date 	         = data.data_list[i].reg_date;
						var todaythanks_showyn 	 = data.data_list[i].todaythanks_showyn;
						
						var user_company_name_short;

						if (user_company_name === "우리은행") {
							user_company_name_short = "은행";
						} else if (user_company_name === "우리카드") {
							user_company_name_short = "카드";
						} else if (user_company_name === "우리에프아이에스") {
							user_company_name_short = "FIS";
						} else if (user_company_name === "우리금융지주") {
							user_company_name_short = "지주";
						} else if (user_company_name === "우리프라이빗에퀴티자산운용") {
							user_company_name_short = "PE";
						} else if (user_company_name === "우리펀드서비스") {
							user_company_name_short = "펀드";
						} else if (user_company_name === "우리신용정보") {
							user_company_name_short = "신용정보";
						} else if (user_company_name === "우리금융경영연구소") {
							user_company_name_short = "연구소";
						} else if (user_company_name === "우리투자증권") {
							user_company_name_short = "우투";
						} else if (user_company_name === "우리자산운용") {
							user_company_name_short = "자산운용";
						} else if (user_company_name === "우리자산신탁") {
							user_company_name_short = "자산신탁";
						} else if (user_company_name === "우리글로벌자산운용") {
							user_company_name_short = "글로벌";
						} else if (user_company_name === "우리금융캐피탈") {
							user_company_name_short = "캐피탈";
						} else if (user_company_name === "우리금융저축은행") {
							user_company_name_short = "저축은행";
						} else if (user_company_name === "우리금융에프앤아이") {
							user_company_name_short = "F&I";
						} else if (user_company_name === "우리벤처파트너스") {
							user_company_name_short = "벤처";
						} else {
							user_company_name_short = user_company_name;
						}
						
						var praise_company_name_short;

						if (praise_company_name === "우리은행") {
							praise_company_name_short = "은행";
						} else if (praise_company_name === "우리카드") {
							praise_company_name_short = "카드";
						} else if (praise_company_name === "우리에프아이에스") {
							praise_company_name_short = "FIS";
						} else if (praise_company_name === "우리금융지주") {
							praise_company_name_short = "지주";
						} else if (praise_company_name === "우리프라이빗에퀴티자산운용") {
							praise_company_name_short = "PE";
						} else if (praise_company_name === "우리펀드서비스") {
							praise_company_name_short = "펀드";
						} else if (praise_company_name === "우리신용정보") {
							praise_company_name_short = "신용정보";
						} else if (praise_company_name === "우리금융경영연구소") {
							praise_company_name_short = "연구소";
						} else if (praise_company_name === "우리투자증권") {
							praise_company_name_short = "우투";
						} else if (praise_company_name === "우리자산운용") {
							praise_company_name_short = "자산운용";
						} else if (praise_company_name === "우리자산신탁") {
							praise_company_name_short = "자산신탁";
						} else if (praise_company_name === "우리글로벌자산운용") {
							praise_company_name_short = "글로벌";
						} else if (praise_company_name === "우리금융캐피탈") {
							praise_company_name_short = "캐피탈";
						} else if (praise_company_name === "우리금융저축은행") {
							praise_company_name_short = "저축은행";
						} else if (praise_company_name === "우리금융에프앤아이") {
							praise_company_name_short = "F&I";
						} else if (praise_company_name === "우리벤처파트너스") {
							praise_company_name_short = "벤처";
						} else {
							praise_company_name_short = praise_company_name;
						}
						
						short_content = short_content.replace(/\n/g," ");
						short_content = short_content.replace(/\s+/g, ' '," ");
						short_content = short_content.replace(/\s/g, ' '," ");
																		
						if (praise_id == "{{ user.id}}") {
							html += '<div class="chkCard sendMeCard col-lg-4 col-md-6 mb-2">';
						}
						else{
							html += '<div class="chkCard col-lg-4 col-md-6 mb-2">';
						}
						
						html += '<div class="card cardList"><div class="card-body p-3 d-flex justify-content-center align-items-center"><div class="d-flex align-items-center">';
              html += '<a class="me-2" style="width: 32px; height: 32px; border-radius: 100%; border:1px solid #d3f1ff; overflow: hidden;" href="#" data-bs-toggle="modal" data-bs-dismiss="modal" data-bs-target="#profile_modal">';
						if(user_image_yn == 'Y')
						{
							html += '<img src="'+user_image+'" class="img-fluid" onclick=\'javascript:viewProfile("'+user_id+'", "'+user_image_yn+'", "'+user_image+'", "'+user_employee_id+'", "'+user_employee_name+'", "'+user_department_name+'", "'+user_position_name+'", "'+user_company_name+'")\'/>';
							
						}
						else
						{
							html += '<img src="/static/assets/img/profile_bee_01.png" class="img-fluid" onclick=\'javascript:viewProfile("'+user_id+'", "'+user_image_yn+'", "'+user_image+'", "'+user_employee_id+'", "'+user_employee_name+'", "'+user_department_name+'", "'+user_position_name+'", "'+user_company_name+'")\'/>';
						}
						html += '</a><div><p class="card-title colorCustom_02 m-0 fw-med">'+user_company_name_short + ' ' + user_department_name.substring(0, 8)+'</p>';
					    html += '<h6 class="card-text colorCustom_01" style="font-size: 12px;">'+user_employee_name+'<span class="fw-bold colorCustom_03" style="font-size: 10px;">' + ' ' + user_position_name+'</span></h6></div></div>';
              html += '<span class="mx-2 d-block icon_right_arrow"></span><div class="d-flex align-items-center"><a class="me-2" style="width: 32px; height: 32px; border-radius: 100%; border:1px solid #d3f1ff; overflow: hidden;" href="#" data-bs-toggle="modal" data-bs-dismiss="modal" data-bs-target="#profile_modal">';
						if(praise_image_yn == 'Y'){
							html += '<img src="'+praise_image+'" class="img-fluid" onclick=\'javascript:viewProfile("'+praise_id+'", "'+praise_image_yn+'", "'+praise_image+'", "'+praise_employee_id+'", "'+praise_employee_name+'", "'+praise_department_name+'", "'+praise_position_name+'", "'+praise_company_name+'")\' />';
						}else{
							html += '<img src="/static/assets/img/profile_bee_01.png" class="img-fluid" onclick=\'javascript:viewProfile("'+praise_id+'", "'+praise_image_yn+'", "'+praise_image+'", "'+praise_employee_id+'", "'+praise_employee_name+'", "'+praise_department_name+'", "'+praise_position_name+'", "'+praise_company_name+'")\' />';
						}
												
						html += '</a><div><p class="card-title colorCustom_02 m-0 fw-med">'+praise_company_name_short + ' ' + praise_department_name.substring(0, 8)+'</p>';
						html += '<h6 class="card-text colorCustom_01" style="font-size: 12px;">'+praise_employee_name+'<span class="fw-bold colorCustom_03" style="font-size: 10px;">' + ' ' + praise_position_name +'</span></h6></div></div></div>';
						htmlcheckpoint1 = '<div class="card-body px-0 py-3 mx-3" style="border-top:1px solid #14a8ea;"><div class="mb-3"><a data-bs-toggle="modal" data-bs-target="#card_modal" href="#" class="d-flex" onclick=\'viewToken("'+compliment_id+'","'+todaythanks_showyn+'","'+user_id+'","'+praise_id+'","'+user_employee_name+'", "'+praise_employee_name+'", "'+content+'", "'+user_image+'", "'+praise_image+'", "'+user_image_yn+'", "'+praise_image_yn+'", "/static/assets/img/profile_bee_01.png", "'+image_path+'", "'+likes_count+'", "'+comment_count+'", "'+reg_date.slice(0, 10)+'");\'/>';
						html += htmlcheckpoint1;
						<!-- 요부분 수정 했음 -->
						html += '<div style="width:80px; height:80px; overflow: hidden; border-radius: 10px; margin-right:10px;"><img id="cardmodalimg'+compliment_id+'" style="object-fit: cover; height: 100%; width: 100%;" src="'+image_path+'" class="img-fluid"></div>';
						html += '<div class="overflow-hidden" style="width: calc(100% - 90px);"><p id="pcard_desc'+compliment_id+'" style="min-height: 50px; text-overflow: ellipsis; word-wrap: break-word; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;" class="card-text mb-0 colorCustom_01 fw-med">'+short_content+'</p><div id="viewTag'+compliment_id+'"></div></div>';
						html += '</a></div>';
						html += '<div class="card-body p-0 d-flex justify-content-between"><div class="d-flex" style="align-items: center;">';
						html += '<a href="javascript:void(0);" onclick="clickLike('+compliment_id+');" class="d-flex heartBtn btn p-0 me-2">';
						if (like_yn == 1)
						{
							html += '<i id="clickIconLike'+compliment_id+'" class="me-1 clicked"></i>';
						}
						else
						{
							html += '<i id="clickIconLike'+compliment_id+'" class="me-1"></i>';
						}
						<!-- 요부분 아래부분 다 수정했음 -->
						
						html += '<span id="clickLike'+compliment_id+'" class="fw-med colorCustom_01">'+likes_count+'</span></a>';
						html += '<a href="#" class="d-flex commentBtn btn p-0 me-2" data-bs-toggle="modal" data-bs-target="#modalPraiseComment" onclick="praiseCommentPop(0,'+compliment_id+', '+praise_id+');">';
						if (String(comment_count) == '0')
						{
							html += '<i id="clickIconComment'+compliment_id+'" class="me-1">';
						}
						else
						{
							html += '<i id="clickIconComment'+compliment_id+'" class="me-1 clicked">';
						}
						
						html += '</i><span id="clickComment'+compliment_id+'" class="fw-med colorCustom_01">'+comment_count+'</span></a>';
						if ("{{user.id}}" == praise_id)
						{
							html += '<a href="/praiseRegedit/?userId='+user_id+'" class="replyBtn fw-med d-flex p-0 colorCustom_01" style="font-size: 12px;"><i class="me-1"></i>답장하기</a>';
						}
						
						html += '</div><div class="position-relative"><a href="#" class="btn p-0 me-1 fw-med colorCustom_01" style="cursor:default;">';
						if(String(user_id) == '15893')
						{
							asd = 1;
						}
						else
						{
							html += '<span>'+reg_date.slice(0, 10)+'</span>';
						}
						html += '</a>';
						//////////////////////////
						var currentuid = String("{{user.id}}");
						var currentsuperuid = String("{{user.is_superuser}}");
						if ("{{user.id}}" == user_id || "{{user.is_superuser}}" == "True")
						{
							html += '<button class="btn p-0 editBtn" type="button" id="conversionRate" data-bs-toggle="dropdown" aria-haspopup="true" aria-expanded="false"><span class="d-block"></span></button>';
							html += '<div class="dropdown-menu dropdown-menu-end" aria-labelledby="conversionRate" data-popper-placement="bottom-end" style="position: absolute; inset: 0px 0px auto auto; margin: 0px; transform: translate(0px, 25px);">';
							html += '<input id="modify_content'+compliment_id+'" type="hidden" value="'+content+'"></input>';
              if( "{{user.is_superuser}}" == "True" && todaythanks_showyn == 'Y' ){
                  html += '<a class="dropdown-item" onclick="todayThankyouSet(\''+compliment_id+'\',\'N\');">투데이땡큐해제</a>';
              }else if("{{user.is_superuser}}" == "True" && todaythanks_showyn != 'Y' ){
                  html +='<a class="dropdown-item" onclick="todayThankyouSet(\''+compliment_id+'\',\'Y\');">투데이땡큐등록</a>';
              }
							html += '<a class="dropdown-item" href="javascript:void(0);" data-bs-toggle="modal" data-bs-target="#editCard" onclick="praiseModifyPop(\''+compliment_id+'\',\''+image_path+'\',\''+content+'\',\''+images_id+'\' );">수정하기</a>';
							//html += '<a class="dropdown-item" data-bs-toggle="modal" data-bs-target="#deletCard" onclick="confirmDelete(\'/praiseDelete/'+compliment_id+'\');">삭제하기</a></div>'; 
							html += '<a class="dropdown-item" onclick="confirmDelete(\'/praiseDelete/'+compliment_id+'\');">삭제하기</a></div>';
						}	
						///////////////////////////
						html += '</div></div></div></div></div>';		
						
					}
					
					//$('.container-xxl mt-2').append(html);
					//document.getElementById('cardWrap').append(stringToHTML(html));
					document.getElementById('cardWrap').insertAdjacentHTML('beforeend',html);
					
				},
				error: function (e) {
					console.log("### testAPI ERROR : ", e);
					//alert("fail");
				},
        complete: function() {
          $('#cardWrap').find('.skeleton-item').remove();
        }
		  })
		  .done(function() {
			  // AJAX 요청 완료 후 처리할 작업
		  })
		  .fail(function() {
			  // AJAX 요청 실패 시 처리할 작업
		  });
		} catch (e) {
			alert('[오류] DB적재시 내부오류가 발생했습니다. \n잠시 후 이용하시기 바랍니다.');
		}	
	}
		
	function viewProfile(id, imgYn, imgSrc, employee_id, employee_name, department_name, position_name, company_name) {
		if(imgYn == "Y") {
			document.getElementById("profile_view_img").setAttribute("src", imgSrc);
		} else {
			document.getElementById("profile_view_img").setAttribute("src", "{% static 'assets/img/profile_bee_01.png' %}");
		}
		
		document.getElementById("profile_employee_name").innerHTML = employee_name;
		document.getElementById("profile_position_name").innerHTML = position_name;
		document.getElementById("profile_company_name").innerHTML = company_name;
		document.getElementById("profile_department_name").innerHTML = department_name;
		document.getElementById("profile_change_btn").style.display = 'none';
		
		/*
		//--------------
		// 칭찬건수 호출
		//--------------
		var inputData = {
			user_id : id,
		};

		console.log("### praise_count called  ###");
		document.querySelector("#span_token_count").innerHTML = '';
		
		try {
			$.ajax({
				type: "POST",
				url: "/apis/praise_count/",
				data: inputData,
				success: function (data) {
					console.log('### praise_count success');
					console.log(data);
					document.querySelector("#span_token_count").innerHTML = data.praise_count;

				},
				error: function (e) {
					console.log("### praise_count ERROR : ", e);
					//alert("fail");
				}
		  })
		  .done(function() {
			// AJAX 요청 완료 후 처리할 작업
		  })
		  .fail(function() {
			// AJAX 요청 실패 시 처리할 작업
		  });
		} catch (e) {
			alert('[오류] DB적재시 내부오류가 발생했습니다. \n잠시 후 이용하시기 바랍니다.');
		} */
		
	}
		
	//페이지 처리
	/*
	const waypoint = new Waypoint({
		element: document.querySelector('.infinite-container'),
		offset: 'bottom-in-view',
		handler: function() {
		//alert('스크롤이 마지막 위치에 도달했습니다!');
		console.log("addPage = " + "{{addPage}}" );  
		if ("{{addPage}}" === "N") {
			$('#viewAddEvent').hide();
			console.log("연속조회 대상이 없습니다.");
		}else{
			viewPage(); // 페이지 호출
			//document.querySelector('.infinite-more-link').click();  
		}
		},
		continuous: true // continuous를 true로 설정하여 여러번 실행되도록 합니다.
	}); */

	//답장 2024.01 viewToken 'user_id' 파라미터 추가  
	function viewToken(compliment_id, todaythanks_showyn, user_id, praise_id, card_user_employee_name, card_praise_employee_name, short_content, card_user_image, card_praise_image, user_image_yn, praise_image_yn, default_img, card_photocardimg, card_like_count, card_comment_count, card_reg_date) 
	{
		try
		{
			//일괄발송 20240913
      // short_content_new = String(document.getElementById('modify_content'+String(compliment_id)).value).replaceAll('<br>', '\n');
			short_content_new = String(document.getElementById('modify_content'+String(compliment_id)).value);

			if (short_content_new[0] == "'" && short_content_new[short_content_new.length-1] == "'")
			{
				short_content_new = short_content_new.substring(1, short_content_new.length-1);
			}
			document.getElementById('card_short_content').innerHTML = short_content_new;
		}
		catch
		{
			document.getElementById('card_short_content').innerHTML = short_content;
			asd = 1;
		}

		document.getElementById('compliment_id').value = compliment_id;
		document.getElementById('employeeId').value = praise_id;
		document.getElementById('card_user_employee_name').innerHTML = card_user_employee_name;
		document.getElementById('card_praise_employee_name').innerHTML = card_praise_employee_name
		
		document.getElementById('card_photocardimg').src = card_photocardimg;
		var hiddenval = document.getElementById('hiddenlike').value;
		var commentval = document.getElementById('clickComment'+String(compliment_id)).innerHTML;
		var commentclass = document.getElementById('clickIconComment'+String(compliment_id)).className;
		var likeval = document.getElementById('clickLike'+String(compliment_id)).innerHTML;
		var likeclass = document.getElementById('clickIconLike'+String(compliment_id)).className;
		
		document.getElementById("detailClickIconLike").className = likeclass;
		document.getElementById("detailCommentIconLike").className = commentclass;
		if (card_like_count == hiddenval || hiddenval == -99999)
		{
			document.getElementById('card_like_count').innerHTML = card_like_count;
		}
		else
		{
			document.getElementById('card_like_count').innerHTML = parseInt(likeval);
		}
		if (parseInt(commentval) == card_comment_count)
		{
			document.getElementById('card_comment_count').innerHTML = card_comment_count;
		}
		else
		{
			document.getElementById('card_comment_count').innerHTML = parseInt(commentval);
		}

		if(todaythanks_showyn == 'Y' || user_id == '15893'){
			document.getElementById('card_reg_date').innerHTML = "";
		}
		else{
			document.getElementById('card_reg_date').innerHTML = card_reg_date;
		}
		
		document.getElementById('hiddenidval').value = compliment_id;
				
		if (user_image_yn == 'Y')
		{
			document.getElementById("card_user_image").src = card_user_image;
		}
		else
		{
			document.getElementById("card_user_image").src = default_img;
		}
		if (praise_image_yn == 'Y')
		{
			document.getElementById("card_praise_image").src = card_praise_image;
		}
		else
		{
			document.getElementById("card_praise_image").src = default_img;
		}
		
		
	}
		
	</script>        
  


<!-- Vendors JS -->
<script defer src="{% static 'assets/vendor/libs/formvalidation/dist/js/FormValidation.min.js' %}"></script>
<script defer src="{% static 'assets/vendor/libs/formvalidation/dist/js/plugins/Bootstrap5.min.js' %}"></script>
<script defer src="{% static 'assets/vendor/libs/formvalidation/dist/js/plugins/AutoFocus.min.js' %}"></script>
<script defer src="{% static 'assets/js/ui-carousel.js' %}"></script>

<!--<script>
		// Quill 모듈 초기화  현재 사용중인 id 가 modalPraiseRegedit_content 인 요소가 없어 주석처리 해둠
		/*
		var quill = new Quill('#modalPraiseRegedit_content', {
			theme: 'snow',
			modules: {
			  toolbar: [

		  ['bold', 'italic', 'underline', 'strike'],        // toggled buttons
		  ['clean']                                         // remove formatting button
				  
			  ]
			}
		}); */
	</script> -->
  <style>
    .all_ #mainPage .heartBtn i,
    .all_ #mainPage .commentBtn i {
      width: 20px;
      height: 20px;
    }

    .select2.select2-container {position: absolute; left:0; width:calc(100% - 99px) !important;}
    button.searchChkBtn {position: absolute !important; right:0;}
    
    /* 공통 editCard 모달 CSS 시작 -240221 */
#editCard #mainNew {
  margin: 20px 0 10px;
}

#editCard .wrap_thumb_layout_1 {
  height: 80px;
  /* width: 20%; */
  overflow: hidden;
}
#editCard .wrap_thumb_layout_2 {
  max-height: 300px;
  height: 300px;
  position: relative;
}
#editCard .wrap_thumb_layout_2 .swiper-wrapper {
  align-items: center;
}

#editCard .wrap_thumb_layout_2 .swiper-button-prev{
  left:-5px;
}
#editCard .wrap_thumb_layout_2 .swiper-button-next{
  right:-5px;
}
#editCard .swiper-slide p {
  border-radius: 15px;
  overflow: hidden;
}

#editCard .gallery-top {
  width: 80%;
  margin: 15px auto 0;
  overflow: hidden;
  height: 100%;
}

#editCard .gallery-thumbs .swiper-slide {
  cursor: pointer;
  opacity: 0.2;
}

#editCard .gallery-thumbs .swiper-slide.swiper-slide-thumb-active {
  opacity: 1;
}

#editCard .wrap_thumb_layout_2 .swiper-button-prev::after,
#editCard .wrap_thumb_layout_2 .swiper-button-next::after {
  content: none;
}

#editCard .gallery-box .object-fit img {
  width: 100%;
  height: 100%;
  object-fit: cover;
}

/* 공통 editCard 모달 CSS 끝 - 240221 */



    /* #mainPage CSS 시작 */
    #mainPage .chkCard {
      max-height: 230px;
    }
    #mainPage #notice {
      display: block !important;
    }

    #mainPage .card {
      border: 2px solid #dde7f1;
      box-shadow: none;
    }

    #mainPage .todayThank>div {
      border: none;
      background: #fff url(/static/assets/img/today_thank_border.png) no-repeat center/100% 100%;
    }

    #mainPage .photoCard {
      min-height: 80px !important;
      min-width: 80px !important;
    }

    #mainPage .photoCard img {
      width: 100% !important;
      height: 100% !important;
      object-fit: cover !important;
    }

    /* 오늘의 땡큐 카드 - 헤더 데코 */
    .all_ .todayThank .todayHeader {
      top: -30px;
      left: 50%;
      transform: translateX(-50%);
      max-width: 300px;
      width: 100%;
    }

    .all_ .todayThank .todayHeader img {
      width: 100%;
      object-fit: contain;
    }

    .all_ .sendMeCard>div {
      background: #c8edff;
    }

    /* 카드 - 지점 명칭 */
    .all_ .card-title {
      font-size: 0.5rem;
    }

    /* 카드 - 사람 > 직위 명칭 */
    .all_ .card-text span {
      font-size: 0.8rem;
    }

    /* 카드 - 해쉬태그 */
    .all_ .hash>span {
      border-radius: 17px;
      background: #e8f7ff;
    }

    

    .modalPraiseComment .typing_comment:focus {
      border-color: #14a8ea;
    }

    .modalPraiseComment .typing_comment+button {
      border: 1px solid #14a8ea !important;
      background: #14a8ea !important;
      box-shadow: none;
    }

    .all_ .modal-dialog {
      top: 3%;
      max-width: 450px;
    }

    
    .mobile-navigation button .icon_home {
      -webkit-mask: url(/static/assets/img/icon_menu_01_02.svg) no-repeat center/auto 100%;
      mask: url(/static/assets/img/icon_menu_01_02.svg) no-repeat center/auto 100%;
    }

    .mobile-navigation button .icon_myThank {
      -webkit-mask: url(/static/assets/img/icon_menu_02_01.svg) no-repeat center/auto 100%;
      mask: url(/static/assets/img/icon_menu_02_01.svg) no-repeat center/auto 100%;
    }

    .mobile-navigation button .icon_sendThank {
      -webkit-mask: url(/static/assets/img/icon_menu_03_01.svg) no-repeat center/auto 100%;
      mask: url(/static/assets/img/icon_menu_03_01.svg) no-repeat center/auto 100%;
    }

    .mobile-navigation button .icon_best {
      -webkit-mask: url(/static/assets/img/icon_menu_04_01.svg) no-repeat center/auto 100%;
      mask: url(/static/assets/img/icon_menu_04_01.svg) no-repeat center/auto 100%;
    }

    .mobile-navigation button .icon_myToken {
      -webkit-mask: url(/static/assets/img/icon_menu_05_01.svg) no-repeat center/auto 100%;
      mask: url(/static/assets/img/icon_menu_05_01.svg) no-repeat center/auto 100%;
    }
    @media (max-width:576px) {


      #mainPage .card>div {
        justify-content: space-between !important;
      }

      .allPage .forPc {
        display: block !important;
      }

      #adSignEdit_modal .upload label,
      #profileEdit_modal .upload label {
        margin-bottom: 10px !important;
        margin-right: 0 !important;
      }

      #adSignEdit_modal .profileNowImg,
      #profileEdit_modal .profileNowImg {
        width: 45% !important;
      }

      #porfileUplaodBox {
        align-items: center !important;
      }

    }

    @media (max-width:440px) {


      .allPage .todayThank .todayHeader {
        top: -25px;
        max-width: 250px;
      }

      .allPage .modal-dialog {
        max-width: 350px;
        margin: 0 auto;
      }
    }
    #moreBtn {
      position: relative;
      display: inline-block;
      border: 1px solid #ddd;
      border-radius: 10px;
      background: #fbfbfb;
      color: #666;
      z-index: 1;
    }

    .skeleton-item > .cardList > .card-body:first-child > div:first-child {
      justify-content: flex-end;
    }
  
    .skeleton-avatar {
      width: 100%;
      height: 100%;
      border-radius: 50%;
      background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
      background-size: 200% 100%;
      animation: shimmer 1.5s infinite;
    }
  
    .skeleton-card-icon {
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
      background-size: 200% 100%;
      animation: shimmer 1.5s infinite;
    }
  
    .skeleton-content {
      background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
      background-size: 200% 100%;
      animation: shimmer 1.5s infinite;
      border-radius: 4px;
    }
  
    .skeleton-line {
      height: 16px;
      background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
      background-size: 200% 100%;
      animation: shimmer 1.5s infinite;
      border-radius: 4px;
      margin-bottom: 8px;
    }
  
    .skeleton-date {
      width: 76px;
      height: 22px;
      background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
      background-size: 200% 100%;
      animation: shimmer 1.5s infinite;
      border-radius: 4px;
    }
  
    .skeleton-like,
    .skeleton-comment {
      background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
      background-size: 200% 100%;
      animation: shimmer 1.5s infinite;
      border-radius: 4px;
      width: 10%;
      height: 22px;
    }
  
    .skeleton-line:last-child {
      width: 50%;
      margin-bottom: 0;
    }
  
    .skeleton-rank {
      width: 40px;
      height: 40px;
      background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
      background-size: 200% 100%;
      animation: shimmer 1.5s infinite;
      border-radius: 4px;
    }
  
    @keyframes shimmer {
      0% {
        background-position: 200% 0;
      }
      100% {
        background-position: -200% 0;
      }
    }

    @media (max-width:576px) {
      .skeleton-item > .cardList > .card-body:first-child > div:first-child {
        justify-content: flex-start;
      }

      .skeleton-item > .cardList > .card-body:first-child > div:last-child {
        justify-content: flex-end;
      }
    }
  </style>
<style>
  .rank_crown_01,
  .rank_crown_02,
  .rank_crown_03,
  .rank_crown_04_10 {
    position: relative;
    border-color: transparent !important;
  }

  .rank_crown_01::after,
  .rank_crown_02::after,
  .rank_crown_03::after,
  .rank_crown_04_10::after{
    content: "";
    position: absolute;
    top: -7%;
    left: 0;
    transform: scale(1.45);
    width: 100%;
    height: 100%;
  }
  
  /* 1등 class */
  .rank_crown_01::after {
    background: url(/static/assets/img/rank_crown01.png) no-repeat center/100% auto;
  }
  
  /* 2등 class */
  .rank_crown_02::after {
    background: url(/static/assets/img/rank_crown02.png) no-repeat center/100% auto;
  }
  
  /* 3등 class */
  .rank_crown_03::after {
    background: url(/static/assets/img/rank_crown03.png) no-repeat center/100% auto;
  }
  
  /* 4-10등 class */
  .rank_crown_04_10::after {
    background: url(/static/assets/img/rank_crown04-10.png) no-repeat center/100% auto;
    }
  </style>

  <script>
    function copyLink(_bbsId) {
      const textToCopy = window.location.href + 'praiseDetail/' + _bbsId;
      const tempInput = document.createElement('input');
      tempInput.setAttribute('value', textToCopy);
      document.body.appendChild(tempInput);
      tempInput.select();
      document.execCommand('copy');
      document.body.removeChild(tempInput);
      toastr['success']('', '링크가 복사 되었습니다.');
    }

    // WARNING ALERT
    function Warning(_title, _text) {
      Swal.fire({
        title: _title,
        text: _text,
        type: 'warning',
        customClass: {
          confirmButton: 'btn btn-danger'
        },
        buttonsStyling: false
      })
    }

    function modalconfirmDelete()
	{
		window.location = document.getElementById("hreflocsave").value;
	}

    function confirmDelete(hreflocation) 
	{
		//document.getElementById("hreflocsave").value = hreflocation;  // 삭제 모달  deletCard 모달을 검색 해주세요
		
		// 삭제 모달 사용시, 아래 주석처리 해주세요, confirm 알럿 사용시 위에를 주석 해제 해주세여
		
		var result = confirm("정말 삭제 하시겠습니까?");
		if (result) 
		{
			window.location = hreflocation;
		} 
		else 
		{
			asd = 1;
		}  
    }
  </script>

  <style>
    .modal-dialog-scrollable {
      max-height: calc(100% - var(--bs-modal-margin) * 2);
      height: auto;
    }
  </style>


{% endblock %}